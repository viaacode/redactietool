{% extends 'base.html' %}

{% block header %}
{% endblock %}

{% block title %}
Metadata bewerken
{% endblock %}

{% block content %}

<div class="columns">
  <div class="column">

    <h1 class="title is-pulled-left">{{title}} / PID: {{pid}}</h1>

    <div class="buttons is-pulled-right pt-2">
            <a class="button is-link mb-5"
               href="/upload?token={{token}}&pid={{pid}}&department={{department}}">
              Bewerk ondertitels
            </a>
    </div>
  </div>
</div>

<div class="columns">
  <div class="column">
    <div id="player_container"></div>

    <script>
      flowplayer('#player_container', {
        src: '{{video_url}}',
        token: '{{flowplayer_token}}'
      })
    </script>
  </div>
</div>

<form> 

  <!-- 
    metadata edit form 
    REMARK/TODO: 
    this form will most likely grow a lot. Most likely
    split this up into multiple partial views...
  -->

  <div class="columns">
    <div class="column">
      <h2 class="title">Algemene metadata</h2>
      <hr/>
    </div>
  </div>

  <div class="columns">
    <div class="column is-half">
      <h3 class="subtitle">Algemeen</h3>
      
      <div class="field is-horizontal">
        <div class="field-label is-normal">
          <label class="label">Beherende&nbsp;CP</label>
        </div>
        <div class="field-body">
          <div class="field">
            <div class="control">
              <input name="beherende_cp" class="input is-small" type="text" placeholder="Mapping?">
            </div>
          </div>
        </div>
      </div>

      <div class="field is-horizontal">
        <div class="field-label is-normal">
          <label class="label">Testbeeld&nbsp;PID</label>
        </div>
        <div class="field-body">
          <div class="field">
            <div class="control">
              <input name="testbeeld_pid" class="input is-small" type="text" placeholder="PID" value="{{pid}}"/>
            </div>
          </div>
        </div>
      </div>

      <div class="field is-horizontal">
        <div class="field-label is-normal">
          <label class="label">Datum </label>
        </div>
        <div class="field-body">
          <div class="field">
            <div class="control">
              <input name="wdatum" class="input is-small" type="text" placeholder="MAPPING?" value=""/>
            </div>
          </div>
        </div>
      </div>

      <div class="field is-horizontal">
        <div class="field-label is-normal">
          <label class="label">Uitzenddatum</label>
        </div>
        <div class="field-body">
          <div class="field">
            <div class="control">
              <input name="uitzenddatum" class="input is-small" type="text" placeholder="MAPPING?" value=""/>
            </div>
          </div>
        </div>
      </div>

      <div class="field is-horizontal">
        <div class="field-label is-normal">
          <label class="label">Creatiedatum</label>
        </div>
        <div class="field-body">
          <div class="field">
            <div class="control">
              <input name="creatiedatum" class="input is-small" type="text" placeholder="MAPPING?" value=""/>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="column is-half">
      <h3 class="subtitle">Titel</h3>

      <div class="field is-horizontal">
        <div class="field-label is-normal">
          <label class="label">Ontsluitingstitel</label>
        </div>
        <div class="field-body">
          <div class="field">
            <div class="control">
              <input name="ontsluitingstitel" class="input is-small" type="text" placeholder="Mapping?">
            </div>
          </div>
        </div>
      </div>

      <div class="field is-horizontal">
        <div class="field-label is-normal">
          <label class="label">Serie</label>
        </div>
        <div class="field-body">
          <div class="field">
            <div class="control">
              <input name="serie" class="input is-small" type="text" placeholder="Mapping?">
            </div>
          </div>
        </div>
      </div>

      <div class="field is-horizontal">
        <div class="field-label is-normal">
          <label class="label">Hoofdtitel</label>
        </div>
        <div class="field-body">
          <div class="field">
            <div class="control">
              <input name="hoofdtitel" class="input is-small" type="text" placeholder="Mapping?">
            </div>
          </div>
        </div>
      </div>

      <div class="field is-horizontal">
        <div class="field-label is-normal">
          <label class="label">Alternatief</label>
        </div>
        <div class="field-body">
          <div class="field">
            <div class="control">
              <input name="alternatief" class="input is-small" type="text" placeholder="Mapping?">
            </div>
          </div>
        </div>
      </div>

      <div class="field is-horizontal">
        <div class="field-label is-normal">
          <label class="label">Programma</label>
        </div>
        <div class="field-body">
          <div class="field">
            <div class="control">
              <input name="programma" class="input is-small" type="text" placeholder="Mapping?">
            </div>
          </div>
        </div>
      </div>

      <div class="field is-horizontal">
        <div class="field-label is-normal">
          <label class="label">Seizoen</label>
        </div>
        <div class="field-body">
          <div class="field">
            <div class="control">
              <input name="seizoen" class="input is-small" type="text" placeholder="Mapping?">
            </div>
          </div>
        </div>
      </div>

      <div class="field is-horizontal">
        <div class="field-label is-normal">
          <label class="label">Reeks</label>
        </div>
        <div class="field-body">
          <div class="field">
            <div class="control">
              <input name="reeks" class="input is-small" type="text" placeholder="Mapping?">
            </div>
          </div>
        </div>
      </div>

      <div class="field is-horizontal">
        <div class="field-label is-normal">
          <label class="label">Welke extra velden?</label>
        </div>
        <div class="field-body">
          <div class="field">
            <div class="control">
              <input name="reeks" class="input is-small" type="text" placeholder="En de mapping?">
            </div>
          </div>
        </div>
      </div>


    </div>
  </div>

  <div class="columns">
    <div class="column">
      <h2 class="title">Productie</h2>
      <hr/>
      
      <h2 class="subtitle">Maker</h2>
      <hr/>
      TODO... Waarom 3 aparte lijsten met daarin nog een dropdown om het te laten switchen in lijst?
      Dit geeft geen enkele meerwaarde buiten het moeilijker te maken om te implementeren...
      <br/><br/><br/>

      <h2 class="subtitle">Bijdrager</h2>
      <hr/>
      TODO: Dus hier kies je ook bijdrager + net als hierboven maar dan kan je toch wisselen naar Maker of publisher zeker?
      <br/><br/><br/>

      <h2 class="subtitle">Publisher</h2>
      <hr/>
      <p>
      TODO: Waarom niet gewoon 1 button met een + en dan daaronder inderdaad maker, bijdrager of publisher als dropdown samen met een textveld en een x om het te verwijderen??? T'is niet dat dit niet gaat. Het is gewoon onnodig complex om te implementeren en eigenlijk ook helemaal geen standaard nog geeft het een echte meerwaarde voor deze form...
      </p>
      <p>
      <br/>
      <section class="has-text-danger"> Wat is de api call om de waardes Maker, Bijdrager, Publisher en eventuele extra items voor de dropdown op te halen? </section>

      <br/>


    </div>
  </div>

  <div class="columns">
    <div class="column">

        <h2 class="panel-heading">
          Inhoud
        </h2>

          <!-- todo make this type of panel a partial view asap -->
          <div class="columns">
            <div class="column">
              <article class="panel">
                <p class="panel-heading">
                  Originele hoofdbeschrijving
                </p>
                <div class="panel-block">
                  <p class="control">
                    <textarea name="originele_hoofdbeschrijving"
                      class="textarea is-hover" 
                      placeholder="Originele hoofdbeschrijving (disabled)" 
                      cols="45"
                      rows="5" readonly></textarea>
                  </p>

                </div>
              </article>
            </div>
          </div>

          <article class="panel">
            <p class="panel-heading">
              Originele uitgebreide hoofdbeschrijving
            </p>
            <div class="panel-block">
              <p class="control">
                <textarea name="originele_hoofdbeschrijving"
                  class="textarea is-hover" 
                  placeholder="Originele uitgebreide hoofdbeschrijving (disabled)"
                  cols="45"
                  rows="5" readonly></textarea>
              </p>
            </div>
          </article>

          <article class="panel">
            <p class="panel-heading">
              Ondertitels
            </p>
            <div class="panel-block">
              <p class="control">
                <textarea name="originele_hoofdbeschrijving"
                  class="textarea is-hover" 
                  placeholder="Ondertitles (disabled)" 
                  cols="45"
                  rows="5" readonly></textarea>
              </p>
            </div>
          </article>

          <article class="panel">
            <p class="panel-heading">
              Programma omschrijving
            </p>
            <div class="panel-block">
              <p class="control">
                <textarea name="originele_hoofdbeschrijving"
                  class="textarea is-hover" 
                  placeholder="Programma beschrijving (disabled)" 
                  cols="45"
                  rows="5" readonly></textarea>
              </p>
            </div>
          </article>


          <article class="panel">
            <p class="panel-heading">
              Cast 
            </p>
            <div class="panel-block">
              <p class="control">
                <textarea name="originele_hoofdbeschrijving"
                  class="textarea is-hover" 
                  placeholder="Cast (disabled)" 
                  cols="45"
                  rows="5" readonly></textarea>
              </p>
            </div>
          </article>

          <article class="panel">
            <p class="panel-heading">
              Transcriptie
            </p>
            <div class="panel-block">
              <p class="control">
                <textarea name="originele_hoofdbeschrijving"
                  class="textarea is-hover" 
                  placeholder="Transcriptie (disabled)" 
                  cols="45"
                  rows="5" readonly></textarea>
              </p>

            </div>
          </article>

          <!-- deze is een editable panel en in toekomst wss een rich text edit indien nog gewenst -->
          <article class="panel">
            <p class="panel-heading">
              Het archief voor Onderwijs beschrijving
            </p>
            <div class="panel-block">
              <p class="control">
                <textarea name="originele_hoofdbeschrijving"
                  class="textarea is-hover" 
                  placeholder="AVO beschrijving. (editable), later on maybe also richtext here" 
                  cols="45"
                  rows="5" readonly></textarea>
              </p>

            </div>
          </article>

    </div>
  </div>

  <!--
  <div class="field is-horizontal">
        <div class="field-label is-normal">
          <label class="label">Welke extra velden?</label>
        </div>
        <div class="field-body">
          <div class="field">
            <div class="control">
              <input name="reeks" class="input is-small" type="text" placeholder="En de mapping?">
            </div>
          </div>
        </div>
      </div>
  -->

  <div class="columns">
    <div class="column">
      <h2 class="title">LOM 1</h2>
      <hr/>

      <div class="field is-horizontal">
        <div class="field-label is-normal">
          <label class="label">Type</label>
        </div>
        <div class="field-body">
          <div class="select">
            <select name="lom1_type" id="lom1_type">
              <option value="value1">Api call of mapping voor types?</option>
            </select>
          </div>
        </div>
      </div>

      <!-- TODO: make multi-select -->
      <div class="field is-horizontal">
        <div class="field-label is-normal">
          <label class="label">Beoogde eindgebruiker</label>
        </div>
        <div class="field-body">
          <div class="select">
            <select name="lom1_beoogde_eindgebruiker" id="lom1_type">
              <option value="value1">Api call of mapping voor eindgebruikers?</option>
            </select>
          </div>
        </div>
      </div>

      <!-- TODO: make multi-select -->
      <div class="field is-horizontal">
        <div class="field-label is-normal">
          <label class="label">Taal</label>
        </div>
        <div class="field-body">
          <div class="select">
            <select name="lom1_taal" id="lom1_type">
              <option value="value1">Api call, mapping of waardes voor taal?</option>
            </select>
          </div>
        </div>
      </div>

      <!-- TODO: make multi-select -->
      <!-- TODO: validation error on empty value for onderwijsniveaus -->
      <div class="field is-horizontal">
        <div class="field-label is-normal">
          <label class="label">Onderwijsniveaus</label>
        </div>
        <div class="field-body">
          <div class="select">
            <select name="lom1_onderwijsniveaus" id="lom1_type">
              <option value="value1">Api call, mapping of waardes voor onderwijsniveaus?</option>
            </select>
          </div>
        </div>
      </div>

      <!-- TODO: make multi-select -->
      <!-- TODO: clear onderwijsgraden als onderwijsniveau verandert? of een error message? -->
      <!-- TODO: re-populate als onderwijsniveaus verandert, met welke api call? -->
      <div class="field is-horizontal">
        <div class="field-label is-normal">
          <label class="label">Onderwijsgraden</label>
        </div>
        <div class="field-body">
          <div class="select">
            <select name="lom1_onderwijsgraden" id="lom1_type">
              <option value="value1">Api call, voor een re-populate van graden op basis van onderwijsniveaus?</option>
            </select>
          </div>
        </div>
      </div>

      <!-- TODO: thema's are from knowledge graph or? -->
      <div class="field is-horizontal">
        <div class="field-label is-normal">
          <label class="label">Thema</label>
        </div>
        <div class="field-body">
          <div class="select">
            <select name="lom1_themas" id="lom1_type">
              <option value="value1">Mapping van mogelijke themas? En dus niet diteerbaar?</option>
            </select>
          </div>
        </div>
      </div>

    </div>
  </div>

  <div class="columns">
    <div class="column">
      <h2 class="title">LOM 2</h2>
      <hr/>

      <!-- waarom niet gewoon een multi-select hier? het is toch niet editeerbaar, waarom die 'X' op de wireframe? -->
      <div class="field is-horizontal">
        <div class="field-label is-normal">
          <label class="label">Vakken</label>
        </div>
        <div class="field-body">
          <div class="select">
            <select name="lom2_vakken" id="lom1_type">
              <option value="value1">Mag dit niet gewoon een multi-select worden?</option>
            </select>
          </div>
        </div>
      </div>

    </div>
  </div>

  <div class="columns">
    <div class="column">
      <h2 class="title">LOM 3</h2>
      <hr/>

      <!-- waarom niet gewoon een een searchable 
        multi-select hier? en wat is de api call hiervoor, knowledge graph of elders? -->
      <div class="field is-horizontal">
        <div class="field-label is-normal">
          <label class="label">Trefwoorden</label>
        </div>
        <div class="field-body">
          <div class="select">
            <select name="lom3_trefwoorden" id="lom1_type">
              <option value="value1">Mag dit niet gewoon een multi-select worden?</option>
            </select>
          </div>
        </div>
      </div>

      <div class="field is-horizontal">
        <div class="field-label is-normal">
          <label class="label"></label>
        </div>
        <div class="field-body">
            <a target="_blank" href="http://link_trefwoorden_content_partners?">
              Bekijk trefwoorden van Content Partners
            </a>
        </div>
      </div>

    </div>
  </div>

  <div class="columns sticky-submit-button">
    <div class="column">
      <div class="buttons is-pulled-right pt-2">
        {% include 'includes/form_errors.html' %}
        <button type="submit" class="button is-primary">
          Save metadata
        </button>
      </div>
    </div>
  </div>


  <div class="columns">
    <div class="column">
      <h2 class="title">Publicatiestatus</h2>
      <hr/>
      <label class="checkbox">
        <input type="checkbox" name="publicatiestatus"/>
        Dit item mag gepubliceerd worden op 
        <a target="blank" href="https://onderwijs.hetarchief.be">Het Archief voor Onderwijs.</a>
      </label>
    </div>
  </div>

</form> <!-- end of metadata edit form -->
<br/><br/><br/><br/>

{% endblock %}
