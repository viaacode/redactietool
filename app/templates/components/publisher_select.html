<div class="field is-horizontal mt-5">
  <div class="field-label is-normal">
    <label class="label">
      Publisher(s)
      <button onclick="addPrdItem('prd_publishers', 'prd_publisher_input'); return false;" 
        class="button is-info is-small pu">+
      </button>
    </label>
  </div>
  <div class="field-body">
  </div>
</div>

{% macro select_option(label, value, attribute) %}
  {% if value == attribute %}
    <option value="{{value}}" selected>{{label}}</a>
  {% else %}
    <option value="{{value}}">{{label}}</a>
  {% endif %}
{% endmacro %}

<div id="prd_publishers" class="pl-5 ml-5">

  <!-- TODO: refactor this hidden field laterz by using a partial -->
  <div class="field is-horizontal is-pulled-left ml-5" id="prd_publisher_input">
     
    <div class="field-body mr-5">
      <div class="select is-small">
        <select name="publisher_attribute" id="publisher_attrib_">

          {{ select_option('Distributeur', 'Distributeur', '') }}
          {{ select_option('Exposant', 'Exposant', '') }}
          {{ select_option('Persagentschap', 'Persagentschap', '') }}
          {{ select_option('Publisher', 'Publisher', '') }}

        </select>
      </div>

      <input name="bijdrager_custom" 
             class="input is-small ml-2 narrow-input"
             type="text" placeholder="" 
             value="">

      <button class="button delete is-danger ml-2" onclick="deletePrdItem(this); return false;"></button>
    </div> <!-- field -->
  </div> 

  {% for publisher in publishers: %}
    <div class="field is-horizontal is-pulled-left ml-5" id="prd_publisher_input_{{loop.index}}">
     
      <div class="field-body mr-5">
        <div class="select is-small">
          <select name="publisher_attribute" id="publisher_attrib_{{loop.index}}">

            {{ select_option('Distributeur', 'Distributeur', publisher['attribute']) }}
            {{ select_option('Exposant', 'Exposant', publisher['attribute']) }}
            {{ select_option('Persagentschap', 'Persagentschap', publisher['attribute']) }}
            {{ select_option('Publisher', 'Publisher', publisher['attribute']) }}

          </select>
        </div>

        <input name="bijdrager_custom_{{loop.index}}" 
               class="input is-small ml-2 narrow-input"
               type="text" placeholder="" 
               value="{{publisher['value']}}">

        <button class="button delete is-danger ml-2" onclick="deletePrdItem(this); return false;"></button>

      </div>
    </div> <!-- field -->
  {% endfor %}
</div>

<div class="is-clearfix"></div>


