(function(){"use strict";var e={669:function(e,t,a){var i=a(144),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("LomSection",{attrs:{metadata:e.metadata}}),a("PublicatieStatus",{attrs:{metadata:e.metadata}})],1)},n=[],o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"lom1_section_wrapper"},[a("h2",{staticClass:"title is-clickable",on:{click:e.toggleCollapse}},[e._v(" Leerobject "),a("CollapseIcon",{attrs:{minimized:e.isMinimized}})],1),a("hr"),a("div",{class:{minimized:e.isMinimized},attrs:{id:"lom1_section_block"}},[a("div",{staticClass:"field is-horizontal"},[e._m(0),a("div",{staticClass:"field-body"},[a("TypeSelector",{attrs:{metadata:e.metadata}})],1)]),a("div",{staticClass:"field is-horizontal"},[e._m(1),a("div",{staticClass:"field-body"},[a("EindgebruikerSelector",{attrs:{metadata:e.metadata}})],1)]),a("div",{staticClass:"field is-horizontal"},[e._m(2),a("div",{staticClass:"field-body"},[a("TalenSelector",{attrs:{metadata:e.metadata}})],1)]),a("OnderwijsSelector",{attrs:{comboEdit:e.onderwijsCombo,metadata:e.metadata}}),a("div",{staticClass:"field is-horizontal"},[e._m(3),a("div",{staticClass:"field-body"},[a("ThemaSelector",{attrs:{metadata:e.metadata}})],1)]),a("div",{staticClass:"field is-horizontal"},[e._m(4),a("div",{staticClass:"field-body"},[a("VakkenSelector",{attrs:{metadata:e.metadata}})],1)]),a("LegacyVakken",{attrs:{metadata:e.metadata}}),a("div",{staticClass:"field is-horizontal"},[e._m(5),a("div",{staticClass:"field-body"},[a("TrefwoordenSelector",{attrs:{metadata:e.metadata}})],1)])],1)])},l=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[e._v("Type")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label label-two-lines"},[e._v("Beoogde eindgebruiker")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[e._v("Taal")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[e._v("Thema's")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[e._v("Vakken")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[e._v("Trefwoorden")])])}],r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"lom_type_selector"}},[a("multiselect",{attrs:{placeholder:"Kies media type",label:"name","track-by":"code",options:e.options,multiple:!1,taggable:!1,searchable:!1,"allow-empty":!1,"show-labels":!1},on:{input:e.updateValue},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[a("template",{slot:"noResult"},[e._v("Media type niet gevonden")])],2),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.json_value,expression:"json_value"}],attrs:{name:"lom_type",id:"lom_type_json_value"},domProps:{value:e.json_value},on:{input:function(t){t.target.composing||(e.json_value=t.target.value)}}})],1)},d=[],c=a(907),u=a.n(c),h=[{name:"Video",code:"Video"}],v={name:"TypeSelector",components:{Multiselect:u()},props:{metadata:Object},data(){return{value:h,json_value:JSON.stringify(h),options:[{name:"Video",code:"Video"},{name:"Audio",code:"Audio"}]}},created(){if(this.metadata.item_type){var e=this.metadata.item_type;this.value=[{name:e,code:e}],this.json_value=JSON.stringify(this.value)}},methods:{updateValue(e){this.json_value=JSON.stringify([e]),this.$root.$emit("metadata_edited","true")}}},m=v,_=a(1),g=(0,_.Z)(m,r,d,!1,null,null,null),p=g.exports,f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"eindgebruikers_selector"}},[a("multiselect",{attrs:{placeholder:"Kies eindgebruikers",label:"name","track-by":"code",options:e.options,multiple:!0,"show-labels":!1,"hide-selected":!0,blockKeys:["Delete"],searchable:!1,taggable:!1},on:{input:e.updateValue},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[a("template",{slot:"noResult"},[e._v("Beoogde eindgebruiker niet gevonden")])],2),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.json_value,expression:"json_value"}],attrs:{name:"lom1_beoogde_eindgebruiker",id:"eindgebruikers_json_value"},domProps:{value:e.json_value},on:{input:function(t){t.target.composing||(e.json_value=t.target.value)}}})],1)},k=[],b=[],w={name:"EindgebruikerSelector",components:{Multiselect:u()},props:{metadata:Object},data(){return{value:b,json_value:JSON.stringify(b),options:[{name:"Docent",code:"Docent"},{name:"Student",code:"Student"},{name:"Directie",code:"Directie"},{name:"ICT-coördinator",code:"ICT-coördinator"},{name:"Systeembeheerder",code:"Systeembeheerder"},{name:"Preventieadviseur",code:"Preventieadviseur"},{name:"GOK",code:"GOK / Zorgcoördinator"},{name:"Pedagogisch begeleider",code:"Pedagogisch begeleider"},{name:"Inspectielid",code:"Inspectielid"},{name:"Administratief personeel",code:"Administratief personeel"},{name:"Met pensioen",code:"Met pensioen"},{name:"Ouder",code:"Ouder"},{name:"Ander",code:"Ander"}]}},created(){if(this.metadata.item_eindgebruikers){var e=this.metadata.item_eindgebruikers;for(var t in this.value=[],e){var a=e[t];this.value.push({name:a["value"],code:a["value"]})}}this.json_value=JSON.stringify(this.value)},methods:{updateValue(e){this.json_value=JSON.stringify(e),this.$root.$emit("metadata_edited","true")}}},y=w,j=(0,_.Z)(y,f,k,!1,null,null,null),C=j.exports,S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"talen_selector"}},[a("multiselect",{attrs:{placeholder:"Zoek taal",label:"name","track-by":"code",options:e.options,multiple:!0,"show-labels":!1,blockKeys:["Delete"],"hide-selected":!0,taggable:!1},on:{input:e.updateValue},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[a("template",{slot:"noResult"},[e._v("Taal niet gevonden")])],2),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.json_value,expression:"json_value"}],attrs:{name:"talen",id:"talen_json_value"},domProps:{value:e.json_value},on:{input:function(t){t.target.composing||(e.json_value=t.target.value)}}}),a("pre",{staticClass:"language-json",attrs:{id:"talen_value_preview"}},[a("code",[e._v(e._s(e.value))])])],1)},O=[],$=[],T={name:"TalenSelector",components:{Multiselect:u()},props:{metadata:Object},data(){return{value:$,json_value:JSON.stringify($),options:[{name:"Nederlands",code:"nl"},{name:"Frans",code:"fr"},{name:"Duits",code:"de"},{name:"Italiaans",code:"it"},{name:"Engels",code:"en"},{name:"Spaans",code:"es"},{name:"Afar",code:"aa"},{name:"Abchazisch",code:"ab"},{name:"Afrikaans",code:"af"},{name:"Amhaars",code:"am"},{name:"Arabisch",code:"ar"},{name:"Assamees",code:"as"},{name:"Aymara",code:"ay"},{name:"Azerbeidzjaans",code:"az"},{name:"Basjkir",code:"ba"},{name:"Wit-Russisch",code:"be"},{name:"Bislama",code:"bi"},{name:"Bengaals",code:"bn"},{name:"Tibetaans",code:"bo"},{name:"Bretons",code:"br"},{name:"Catalaans",code:"ca"},{name:"Tsjechisch",code:"cs"},{name:"Welch",code:"cy"},{name:"Deens",code:"da"},{name:"Bhutani",code:"dz"},{name:"Grieks",code:"el"},{name:"Esperanto",code:"eo"},{name:"Ests",code:"et"},{name:"Baskisch",code:"eu"},{name:"Perzisch",code:"fa"},{name:"Fins",code:"fi"},{name:"Fiji",code:"fj"},{name:"Iers",code:"ga"},{name:"Schots Gaelic",code:"gd"},{name:"Galicisch",code:"gl"},{name:"Guarani",code:"gn"},{name:"Gujarati",code:"gu"},{name:"Hausa",code:"ha"},{name:"Hebreeuws",code:"he"},{name:"Hindi",code:"hi"},{name:"Hongaars",code:"hu"},{name:"Kroatisch",code:"hr"},{name:"Hongaars",code:"hu"},{name:"Armeens",code:"hy"},{name:"Interlingua",code:"ia"},{name:"Indonesisch",code:"id"},{name:"Interlingue",code:"ie"},{name:"Inupiak",code:"ik"},{name:"IJslands",code:"is"},{name:"Inuktitut (Eskimo)",code:"iu"},{name:"Japans",code:"ja"},{name:"Georgisch",code:"ka"},{name:"Kazachs",code:"kk"},{name:"Groenlands",code:"kl"},{name:"Cambodjaans",code:"km"},{name:"Kannada",code:"kn"},{name:"Koreaans",code:"ko"},{name:"Kasjmir",code:"ks"},{name:"Koerdisch",code:"ku"},{name:"Kirgizisch",code:"ky"},{name:"latijns",code:"la"},{name:"Lingala",code:"ln"},{name:"Laotiaans",code:"lo"},{name:"Litouws",code:"lt"},{name:"Lets, Lets",code:"lv"},{name:"Malagasi",code:"mg"},{name:"Macedonisch",code:"mk"},{name:"Malayalam",code:"ml"},{name:"Mongools",code:"mn"},{name:"Marathi",code:"mr"},{name:"Maleis",code:"ms"},{name:"Maltees",code:"mt"},{name:"Birmaans",code:"my"},{name:"Nauru",code:"na"},{name:"Nepalees",code:"ne"},{name:"Noors",code:"no"},{name:"Occitaans",code:"oc"},{name:"(Afan) Oromo",code:"om"},{name:"Oriya",code:"or"},{name:"Punjabi",code:"pa"},{name:"Pools",code:"pl"},{name:"Pashto, Pushto",code:"ps"},{name:"Portugees",code:"pt"},{name:"Quechua",code:"qu"},{name:"Reto-Romaans",code:"rm"},{name:"Kirundi",code:"rn"},{name:"Roemeens",code:"ro"},{name:"Russisch",code:"ru"},{name:"Kinyarwanda",code:"rw"},{name:"Sanskriet",code:"sa"},{name:"Sindhi",code:"sd"},{name:"Sangro",code:"sg"},{name:"Servo-Kroatisch",code:"sh"},{name:"Singalees",code:"si"},{name:"Slowaaks",code:"sk"},{name:"Sloveens",code:"sl"},{name:"Samoaans",code:"sm"},{name:"Shona",code:"sn"},{name:"Somalisch",code:"so"},{name:"Albanees",code:"sq"},{name:"Servisch",code:"sr"},{name:"Siswati",code:"ss"},{name:"Sesotho",code:"st"},{name:"Soedanees",code:"su"},{name:"Zweeds",code:"sv"},{name:"Swahili",code:"sw"},{name:"Tamil",code:"ta"},{name:"Telugu",code:"te"},{name:"Tadzjieks",code:"tg"},{name:"Thais",code:"th"},{name:"Tigrinya",code:"ti"},{name:"Turkmeens",code:"tk"},{name:"Tagalog",code:"tl"},{name:"Setswana",code:"tn"},{name:"Tonga",code:"to"},{name:"Turks",code:"tr"},{name:"Tsonga",code:"ts"},{name:"Tataars",code:"tt"},{name:"twee keer",code:"tw"},{name:"Oeigoers",code:"ug"},{name:"Oekraïens",code:"uk"},{name:"Urdu",code:"ur"},{name:"Oezbeeks",code:"uz"},{name:"Vietnamees",code:"vi"},{name:"Volapuk",code:"vo"},{name:"Wolof",code:"wo"},{name:"Xhosa",code:"xh"},{name:"Jiddisch",code:"yi"},{name:"Yoruba",code:"yo"},{name:"Zhuang",code:"za"},{name:"Chinees",code:"zh"},{name:"Zulu",code:"zu"}]}},created(){if(this.metadata.item_languages){var e=this.metadata.item_languages;for(var t in this.value=[],e){var a=e[t]["value"],i="";for(var s in this.options){var n=this.options[s];if(n["code"]==a){i=n["name"];break}}this.value.push({name:i,code:a})}}this.json_value=JSON.stringify(this.value)},methods:{updateValue(e){this.json_value=JSON.stringify(e),this.$root.$emit("metadata_edited","true")}}},x=T,N=(0,_.Z)(x,S,O,!1,null,null,null),V=N.exports,E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"onderwijs_selector"}},[e.comboEdit?a("div",{staticClass:"field is-horizontal"},[e._m(0),a("div",{staticClass:"field-body"},[a("div",{attrs:{id:"onderwijs_selector_dropdown"}},[a("multiselect",{attrs:{placeholder:"Selecteer opleiding",label:"label","track-by":"id",options:e.options,multiple:!0,"show-labels":!1,"hide-selected":!0,blockKeys:["Delete"],searchable:!1,taggable:!1,loading:e.loading},on:{input:e.updateValue,remove:e.removeValue,select:e.addValue},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[a("template",{slot:"noResult"},[e._v("niet gevonden")]),a("template",{slot:"noOptions"},[e._v("loading...")])],2),e.show_vakken_warning?a("p",{staticClass:"help is-danger vakken-warning"},[e._v(" Opgelet: indien je deze waarde verwijdert, zijn mogelijks een aantal vakken niet meer relevant   ")]):e._e(),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.json_value,expression:"json_value"}],attrs:{name:"lom_onderwijs_combo",id:"onderwijs_json_value"},domProps:{value:e.json_value},on:{input:function(t){t.target.composing||(e.json_value=t.target.value)}}})],1)])]):e._e(),a("div",{class:[e.value.length&&!e.show_onderwijsstructuur?"show":"hide"]},[a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label is-normal"}),a("div",{staticClass:"field-body"},[a("a",{on:{click:e.toggleOnderwijsstructuur}},[e._v("Bekijk de onderwijsstructuur")])])])]),a("div",{class:[e.value.length&&e.show_onderwijsstructuur?"show":"hide"]},[a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label is-normal"}),a("div",{staticClass:"field-body"},[a("a",{on:{click:e.toggleOnderwijsstructuur}},[e._v("Verberg de onderwijsstructuur")])])]),a("OnderwijsniveausSelector",{attrs:{metadata:e.metadata,comboEdit:e.comboEdit}}),a("OnderwijsgradenSelector",{attrs:{metadata:e.metadata,comboEdit:e.comboEdit}})],1)])},z=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[e._v("Onderwijs")])])}],J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label is-normal"},[e.comboEdit?e._e():a("label",{staticClass:"label"},[e._v("Onderwijsgraden")]),e.comboEdit?a("label",{staticClass:"label"}):e._e()]),a("div",{staticClass:"field-body"},[a("div",{attrs:{id:"onderwijsgraden_selector"}},[e.comboEdit?e._e():a("span",[a("multiselect",{attrs:{placeholder:"Selecteer onderwijsgraden",label:"label","track-by":"id",options:e.graden_filtered,multiple:!0,"show-labels":!1,"hide-selected":!0,taggable:!1,searchable:!1,loading:e.loading},on:{input:e.updateValue,remove:e.removeGraad},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[a("template",{slot:"noResult"},[e._v("Onderwijsgraad niet gevonden")]),a("template",{slot:"noOptions"},[e._v(" Selecteer secundair of lager in onderwijsniveaus ")])],2)],1),e.comboEdit&&e.value.length?a("div",{staticClass:"inline-graden-wrapper"},[a("div",{staticClass:"graden-inline-title"},[e._v("Onderwijsgraden")]),a("div",{staticClass:"inline-graden-list"},[e._l(e.value,(function(t){return a("div",{key:t.id,staticClass:"graden-pill is-pulled-left"},[e._v(" "+e._s(t.label)+" ")])})),a("div",{staticClass:"is-clearfix"})],2)]):e._e(),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.json_value,expression:"json_value"}],attrs:{name:"lom1_onderwijsgraden",id:"onderwijsgraden_json_value"},domProps:{value:e.json_value},on:{input:function(t){t.target.composing||(e.json_value=t.target.value)}}})])])])},I=[],L=a(388),A=a.n(L),B=[],P={name:"OnderwijsgradenSelector",components:{Multiselect:u()},props:{comboEdit:Boolean,metadata:Object},data(){return{value:B,json_value:JSON.stringify(B),options:[{id:"loading...",label:"Onderwijsgraden inladen...",definition:"Onderwijsgraden inladen..."}],niveaus:[],graden_filtered:[],loading:!1}},mounted:function(){this.$root.$on("niveaus_changed",(e=>{this.niveaus=e,this.filterGraden()})),this.$root.$on("onderwijs_changed",(e=>{this.niveaus=e["niveaus"],this.value=e["graden"],this.json_value=JSON.stringify(this.value)}))},created:function(){var e="http://localhost:5000",t=document.getElementById("redactie_api_url");t&&(e=t.innerText,this.loading=!0,A().get(e+"/onderwijsgraden").then((e=>{if(this.options=e.data,this.$root.$emit("graden_options_loaded",this.options),this.value=[],this.metadata.item_onderwijsgraden){var t=this.metadata.item_onderwijsgraden,a={};if(t["show_legacy"]){if(this.metadata.item_onderwijsgraden_legacy){console.log("legacy fallback voor onderwijsgraden (lom_typicalagerange)");var i=this.metadata.item_onderwijsgraden_legacy;for(var s in i){var n=i[s]["value"];for(var o in this.options)if(a=this.options[o],n==a["definition"]){this.value.push({id:a["id"],label:a["label"],definition:a["definition"],child_count:a["child_count"],parent_id:a["parent_id"]});break}}}}else for(var l in console.log("loading new onderwijsgraden from (lom_onderwijsgraad)..."),t){var r=t[l]["value"];for(var d in this.options)if(a=this.options[d],r==a["id"]){this.value.push({id:r,label:a["label"],definition:a["definition"],child_count:a["child_count"],parent_id:a["parent_id"]});break}}this.filterGraden(),this.json_value=JSON.stringify(this.value),this.$root.$emit("graden_changed",this.value)}this.loading=!1})))},methods:{removeGraad(e){console.log("removed graad, check vakken values and give warning here=",e)},updateValue(e){this.json_value=JSON.stringify(e),this.$root.$emit("graden_changed",e),this.$root.$emit("metadata_edited","true")},filterGraden(){var e={};for(var t in this.niveaus){var a=this.niveaus[t];e[a.id]="niveau_selected"}for(var i in this.graden_filtered=[],this.options){var s=this.options[i];"niveau_selected"==e[s["parent_id"]]&&this.graden_filtered.push(s)}}}},K=P,M=(0,_.Z)(K,J,I,!1,null,null,null),Z=M.exports,D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field is-horizontal",class:[e.value.length?"":"niveaus-pull-up"]},[a("div",{staticClass:"field-label is-normal"},[e.comboEdit?e._e():a("label",{staticClass:"label"},[e._v("Onderwijsniveaus")]),e.comboEdit?a("label",{staticClass:"label"}):e._e()]),a("div",{staticClass:"field-body"},[a("div",{attrs:{id:"onderwijsniveaus_selector"}},[e.comboEdit?e._e():a("span",[a("multiselect",{attrs:{placeholder:"Selecteer onderwijsniveaus",label:"label","track-by":"id",options:e.options,multiple:!0,"show-labels":!1,"hide-selected":!0,searchable:!1,taggable:!1},on:{input:e.updateValue},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[a("template",{slot:"noResult"},[e._v("Onderwijsniveau niet gevonden")])],2)],1),e.comboEdit&&e.value.length?a("div",{staticClass:"inline-niveau-wrapper"},[a("div",{staticClass:"niveau-inline-title"},[e._v("Onderwijsniveaus")]),a("div",{staticClass:"inline-niveau-list"},[e._l(e.value,(function(t){return a("div",{key:t.id,staticClass:"niveau-pill is-pulled-left"},[e._v(" "+e._s(t.label)+" ")])})),a("div",{staticClass:"is-clearfix"})],2)]):e._e(),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.json_value,expression:"json_value"}],attrs:{name:"lom1_onderwijsniveaus",id:"onderwijsniveaus_json_value"},domProps:{value:e.json_value},on:{input:function(t){t.target.composing||(e.json_value=t.target.value)}}})])])])},R=[],G=[],H={name:"OnderwijsniveausSelector",components:{Multiselect:u()},props:{comboEdit:Boolean,metadata:Object},data(){return{value:G,json_value:JSON.stringify(G),options:[{id:"",label:"Onderwijsniveaus inladen...",definition:"Onderwijsniveaus inladen..."}]}},mounted:function(){this.$root.$on("onderwijs_changed",(e=>{this.value=e["niveaus"],this.json_value=JSON.stringify(this.value)}))},created:function(){var e="http://localhost:5000",t=document.getElementById("redactie_api_url");t&&(e=t.innerText,A().get(e+"/onderwijsniveaus").then((e=>{if(this.options=e.data,this.$root.$emit("niveau_options_loaded",this.options),this.value=[],this.metadata.item_onderwijsniveaus){var t=this.metadata.item_onderwijsniveaus,a={},i={};if(t["show_legacy"]){if(console.log("legacy fallback voor onderwijsniveaus (lom_context)..."),this.metadata.item_onderwijsniveaus_legacy){var s=this.metadata.item_onderwijsniveaus_legacy;for(var n in s)for(var o in a["definition"]=s[n]["value"],this.options)if(i=this.options[o],a["definition"]==i["definition"]){this.value.push({id:i["id"],label:i["label"],definition:i["definition"],collection:i["collection"],child_count:i["child_count"],parent_id:i["parent_id"]});break}}}else for(var l in console.log("loading new onderwijsniveaus from (lom_onderwijsniveau)..."),t)for(var r in a["id"]=t[l]["value"],this.options)if(i=this.options[r],a["id"]==i["id"]){this.value.push({id:i["id"],label:i["label"],definition:i["definition"],collection:i["collection"],child_count:i["child_count"],parent_id:i["parent_id"]});break}this.json_value=JSON.stringify(this.value),this.$root.$emit("niveaus_changed",this.value)}})))},methods:{updateValue(e){this.json_value=JSON.stringify(e),this.$root.$emit("niveaus_changed",e),this.$root.$emit("metadata_edited","true")}}},F=H,W=(0,_.Z)(F,D,R,!1,null,null,null),q=W.exports,Y=[],Q={name:"OnderwijsSelector",components:{Multiselect:u(),OnderwijsgradenSelector:Z,OnderwijsniveausSelector:q},props:{comboEdit:Boolean,metadata:Object},data(){return{value:Y,json_value:JSON.stringify(Y),options:[{id:"",label:"Thesaurus data inladen...",definition:"Thesaurus data inladen..."}],niveaus:[],graden:[],niveau_options:[],graden_options:[],loading:!0,show_vakken_warning:!1,vakken_selected:[],show_onderwijsstructuur:!1}},mounted:function(){this.$root.$on("niveaus_changed",(e=>{this.niveaus=e,this.readValues()})),this.$root.$on("graden_changed",(e=>{this.graden=e,this.readValues()})),this.$root.$on("niveau_options_loaded",(e=>{this.niveau_options=e,this.readOptions()})),this.$root.$on("graden_options_loaded",(e=>{this.graden_options=e,this.readOptions()})),this.$root.$on("vakken_changed",(e=>{e.length?this.vakken_selected=e:this.vakken_selected=[]}))},created:function(){this.options=[],this.value=[],this.json_value=JSON.stringify(this.value)},methods:{toggleOnderwijsstructuur(){this.show_onderwijsstructuur=!this.show_onderwijsstructuur},isRelated(e,t){if(void 0==e["related_id"])return!1;for(var a in e["related_id"]){var i=e["related_id"][a];if(i==t["id"])return!0}},removeValue(e){if(this.show_vakken_warning=!1,this.vakken_selected.length)for(var t in this.vakken_selected){var a=this.vakken_selected[t];if(this.isRelated(a,e))return void(this.show_vakken_warning=!0)}},addValue(){this.show_vakken_warning=!1},closeVakkenWarning(e){e.preventDefault(),this.show_vakken_warning=!1},isLeaf(e){return 0==e.child_count},updateValue(e){this.json_value=JSON.stringify(e);var t=[],a=[],i={};for(var s in e){var n=e[s];"niveau"==n.type&&this.isLeaf(n)&&(a.push({id:n.id,label:n["label"],definition:n["definition"],collection:n["collection"],child_count:n["child_count"],parent_id:n["parent_id"]}),n["parent_id"]&&(i[n["parent_id"]]=n)),"graad"==n.type&&(t.push({id:n.id,label:n["label"],definition:n["definition"],child_count:n["child_count"],parent_id:n["parent_id"]}),n["parent_id"]&&(i[n["parent_id"]]=n))}for(var o in i)for(var l in this.niveau_options){var r=this.niveau_options[l];r.id==o&&a.push(r)}var d={niveaus:a,graden:t};this.$root.$emit("onderwijs_changed",d),this.$root.$emit("metadata_edited","true")},readValues(){for(var e in this.value=[],this.niveaus){var t=this.niveaus[e];this.isLeaf(t)&&this.value.push({id:t.id,label:t["label"],definition:t["definition"],collection:t["collection"],child_count:t["child_count"],parent_id:t["parent_id"],type:"niveau"})}for(var a in this.graden){var i=this.graden[a];this.value.push({id:i.id,label:i["label"],definition:i["definition"],child_count:i["child_count"],parent_id:i["parent_id"],type:"graad"})}},readOptions(){for(var e in this.options=[],this.niveau_options){var t=this.niveau_options[e];this.isLeaf(t)&&this.options.push({id:t.id,label:t["label"],definition:t["definition"],collection:t["collection"],child_count:t["child_count"],parent_id:t["parent_id"],type:"niveau"})}for(var a in this.graden_options){var i=this.graden_options[a];this.options.push({id:i.id,label:i["label"],definition:i["definition"],child_count:i["child_count"],parent_id:i["parent_id"],type:"graad"})}this.loading=!1}}},U=Q,X=(0,_.Z)(U,E,z,!1,null,null,null),ee=X.exports,te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"thema_selector"}},[a("a",{staticClass:"button is-link is-small toon-themas-button",on:{click:e.toggleThemas}},[e._v(" "+e._s(e.show_themas_label)+" ")]),a("multiselect",{attrs:{"tag-placeholder":"Voeg nieuw thema toe",placeholder:"Selecteer thema's",label:"label","track-by":"id",options:e.options,"option-height":104,"show-labels":!1,blockKeys:["Delete"],"hide-selected":!0,multiple:!0,loading:e.loading,taggable:!1},on:{input:e.updateValue},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[a("template",{slot:"noResult"},[e._v("Thema niet gevonden")])],2),a("div",{staticClass:"thema-cards",class:[e.show_thema_cards?"show":"hide"]},[a("div",{staticClass:"modal is-active",attrs:{id:"thema_modal"}},[a("div",{staticClass:"modal-background"}),a("div",{staticClass:"modal-card",attrs:{id:"thema_modal_card"}},[a("header",{staticClass:"modal-card-head"},[a("p",{staticClass:"modal-card-title"},[e._v("Thema's")]),a("label",{staticClass:"checkbox thema-show-def-selector"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.show_tooltips,expression:"show_tooltips"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.show_tooltips)?e._i(e.show_tooltips,null)>-1:e.show_tooltips},on:{change:function(t){var a=e.show_tooltips,i=t.target,s=!!i.checked;if(Array.isArray(a)){var n=null,o=e._i(a,n);i.checked?o<0&&(e.show_tooltips=a.concat([n])):o>-1&&(e.show_tooltips=a.slice(0,o).concat(a.slice(o+1)))}else e.show_tooltips=s}}}),e._v(" Tooltips ")]),a("div",{staticClass:"thema-search"},[a("div",{staticClass:"field has-addons"},[a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.thema_search,expression:"thema_search"}],staticClass:"input",attrs:{type:"text",placeholder:"Zoek thema"},domProps:{value:e.thema_search},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.zoekThemas(t)},input:function(t){t.target.composing||(e.thema_search=t.target.value)}}})]),a("div",{staticClass:"control"},[a("a",{staticClass:"button is-info",on:{click:function(t){return e.zoekThemas(t)}}},[e._v(" Zoek ")])])])])]),a("section",{staticClass:"modal-card-body"},[a("div",{staticClass:"thema-warning-pill",class:[e.show_already_added_warning?"show":"hide"]},[e._v(" Thema werd al toegevoegd ")]),e.thema_cards.length?e._e():a("div",{staticClass:"notification is-info is-light"},[e._v(' Geen themas gevonden met de zoekterm "'+e._s(e.thema_prev_search)+'". ')]),e._l(e.thema_cards,(function(t,i){return a("div",{key:i,staticClass:"columns"},e._l(t,(function(t){return a("div",{key:t.id,staticClass:"column is-one-fifth"},[a("div",{staticClass:"tile is-ancestor"},[a("div",{staticClass:"tile is-vertical mr-2 mt-2"},[a("div",{staticClass:"card",class:[e.themaIsSelected(t)?"thema-selected":""],on:{click:function(a){return e.toggleThemaSelect(t)},mouseover:function(t){return e.changeToprowTooltip(t)}}},[a("header",{staticClass:"card-header"},[e.show_tooltips?e._e():a("p",{staticClass:"card-header-title"},[e._v(" "+e._s(t.label)+" ")]),e.show_tooltips?a("p",{staticClass:"card-header-title is-primary\n                        has-tooltip-arrow has-tooltip-multiline",attrs:{"data-tooltip":t.definition}},[e._v(" "+e._s(t.label)+" ")]):e._e()]),e.show_tooltips?e._e():a("div",{staticClass:"card-content"},[e._v(" "+e._s(t.definition)+" ")])])])])])})),0)}))],2),a("footer",{staticClass:"modal-card-foot"},[a("a",{staticClass:"button is-link close-themas-button",on:{click:function(t){return e.toggleThemas(t)}}},[e._v(" Sluiten ")])])])])]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.json_value,expression:"json_value"}],attrs:{name:"themas",id:"thema_json_value"},domProps:{value:e.json_value},on:{input:function(t){t.target.composing||(e.json_value=t.target.value)}}})],1)},ae=[],ie=[],se={name:"ThemaSelector",components:{Multiselect:u()},props:{metadata:Object},data(){return{value:ie,json_value:JSON.stringify(ie),options:[{id:"",label:"Themas inladen...",definition:"Themas inladen..."}],thema_cards:[],show_thema_cards:!1,show_already_added_warning:!1,show_themas_label:"Toon themas",thema_search:"",thema_prev_search:"",show_tooltips:!0,loading:!0}},created:function(){var e="http://localhost:5000",t=document.getElementById("redactie_api_url");t&&(e=t.innerText,A().get(e+"/themas").then((e=>{for(var t in this.options=[],e.data){var a=e.data[t];a.label.length>1&&this.options.push({id:a.id,label:this.truncateLabel(a.label),definition:a.definition})}this.loadSavedThemas()})))},methods:{loadSavedThemas(){if(this.metadata.item_themas){var e=this.metadata.item_themas;for(var t in this.value=[],e){var a=e[t]["value"],i="",s="";for(var n in this.options){var o=this.options[n];if(o["id"]==a){i=o["label"],s=o["definition"];break}}i.length>0&&this.value.push({id:a,label:i,definition:s})}}this.loading=!1,this.json_value=JSON.stringify(this.value),this.$root.$emit("themas_changed",this.value)},updateValue(e){this.json_value=JSON.stringify(e),this.$root.$emit("themas_changed",e),this.$root.$emit("metadata_edited","true")},zoekThemas(e){this.thema_cards=[];var t=[];for(var a in this.options){var i=this.options[a],s=this.thema_search.toLowerCase(),n=i.label.toLowerCase(),o=i.definition.toLowerCase();(n.includes(s)||o.includes(s))&&t.push(Object.assign({},i)),5==t.length&&(this.thema_cards.push(JSON.parse(JSON.stringify(t))),t=[])}t.length>0&&this.thema_cards.push(JSON.parse(JSON.stringify(t))),this.thema_prev_search=this.thema_search,this.thema_search="",e.preventDefault()},themaIsSelected(e){for(var t in this.value){var a=this.value[t];if(e.id==a.id)return!0}return!1},toggleThemas(e){if(e.preventDefault,this.show_thema_cards=!this.show_thema_cards,!this.show_thema_cards)return this.show_themas_label="Toon themas",this.thema_cards=[],void this.$root.$emit("themas_changed",this.value);this.show_themas_label="Verberg themas",this.thema_cards=[];var t=[];for(var a in this.options)t.push(this.options[a]),5==t.length&&(this.thema_cards.push(t),t=[]);t.length>0&&this.thema_cards.push(t)},toggleThemaSelect:function(e){var t=!1;for(var a in this.value){var i=this.value[a];if(i.id==e.id){t=!0,this.value.splice(a,1),this.json_value=JSON.stringify(this.value);break}}if(!t){const t={id:e.id,label:e.label,definition:e.definition};this.value.push(t),this.json_value=JSON.stringify(this.value),this.$root.$emit("metadata_edited","true")}},changeToprowTooltip(e){var t=e.clientY,a=document.getElementById("thema_modal_card").getBoundingClientRect().top,i=t-a;return i<200?e.target.classList.add("has-tooltip-bottom"):e.target.classList.remove("has-tooltip-bottom"),!0},truncateLabel:function(e){var t=45,a="...";return e.length>t?e.substring(0,t)+a:e}},filters:{truncate:function(e,t,a){return e.length>t?e.substring(0,t)+a:e}}},ne=se,oe=(0,_.Z)(ne,te,ae,!1,null,null,null),le=oe.exports,re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"vakken_selector"}},[a("a",{staticClass:"button is-link is-small vakken-suggest-button",on:{click:e.toggleSuggesties}},[e._v(" "+e._s(e.suggestie_btn_label)+" ")]),a("multiselect",{attrs:{"tag-placeholder":"Selecteer vakken",placeholder:"Selecteer vakken",label:"label","track-by":"id",options:e.options,"option-height":104,"show-labels":!1,blockKeys:["Delete"],"hide-selected":!0,multiple:!0,loading:e.vakken_loading,taggable:!1},on:{input:e.updateValue},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[a("template",{slot:"noResult"},[e._v("Vak niet gevonden")])],2),e.showInlineSuggesties()?a("div",{staticClass:"inline-suggesties"},[a("div",{staticClass:"inline-suggesties-title"},[e._v("Suggesties")]),e.loading?a("div",{staticClass:"vakken-spinner multiselect__spinner"}):e._e(),e.loading?e._e():a("div",{staticClass:"inline-suggesties-list"},e._l(e.suggesties_filtered,(function(t,i){return a("div",{key:"vak"+i},[e._l(t,(function(t){return a("div",{key:t.id,staticClass:"inline-suggestie-pill is-pulled-left",class:[e.vakIsSelected(t)?"inline-suggestie-selected":""],on:{click:function(a){return e.toggleVakSelect(t)}}},[e._v(" "+e._s(t.label)+" ")])})),a("div",{staticClass:"is-clearfix"})],2)})),0)]):e._e(),a("div",{staticClass:"vakken-suggesties",class:[e.show_vakken_suggesties?"show":"hide"]},[a("div",{staticClass:"modal is-active",attrs:{id:"vakken_modal"}},[a("div",{staticClass:"modal-background"}),a("div",{staticClass:"modal-card",attrs:{id:"vakken_modal_card"}},[a("header",{staticClass:"modal-card-head"},[a("p",{staticClass:"modal-card-title"},[e._v("Vakken")]),a("label",{staticClass:"checkbox thema-show-def-selector"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.show_tooltips,expression:"show_tooltips"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.show_tooltips)?e._i(e.show_tooltips,null)>-1:e.show_tooltips},on:{change:function(t){var a=e.show_tooltips,i=t.target,s=!!i.checked;if(Array.isArray(a)){var n=null,o=e._i(a,n);i.checked?o<0&&(e.show_tooltips=a.concat([n])):o>-1&&(e.show_tooltips=a.slice(0,o).concat(a.slice(o+1)))}else e.show_tooltips=s}}}),e._v(" Tooltips ")]),a("div",{staticClass:"vak-search"},[a("div",{staticClass:"field has-addons"},[a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.vakken_search,expression:"vakken_search"}],staticClass:"input",attrs:{type:"text",placeholder:"Zoek vak"},domProps:{value:e.vakken_search},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.zoekVakken(t)},input:function(t){t.target.composing||(e.vakken_search=t.target.value)}}})]),a("div",{staticClass:"control"},[a("a",{staticClass:"button is-info",on:{click:function(t){return e.zoekVakken(t)}}},[e._v(" Zoek ")])])])])]),a("section",{staticClass:"modal-card-body"},[e.suggesties_filtered.length?a("h3",{staticClass:"subtitle vakken-title"},[e._v(" Suggesties ")]):e._e(),e._l(e.suggesties_filtered,(function(t,i){return a("div",{key:"vak"+i,staticClass:"columns"},e._l(t,(function(t){return a("div",{key:t.id,staticClass:"column is-one-fifth"},[a("div",{staticClass:"tile is-ancestor"},[a("div",{staticClass:"tile is-vertical mr-2 mt-2"},[a("div",{staticClass:"card",class:[e.vakIsSelected(t)?"vak-selected":""],on:{click:function(a){return e.toggleVakSelect(t)},mouseover:function(t){return e.changeToprowTooltip(t)}}},[a("header",{staticClass:"card-header"},[e.show_tooltips?a("p",{staticClass:"card-header-title is-primary has-tooltip-arrow has-tooltip-multiline",attrs:{"data-tooltip":t.definition}},[e._v(" "+e._s(t.label)+" ")]):e._e(),e.show_tooltips?e._e():a("p",{staticClass:"card-header-title"},[e._v(" "+e._s(t.label)+" ")])]),e.show_tooltips?e._e():a("div",{staticClass:"card-content"},[e._v(" "+e._s(t.definition)+" ")])])])])])})),0)})),e.suggesties_filtered.length?a("h3",{staticClass:"subtitle vakken-title"},[e._v("Overige vakken")]):e._e(),e.hogerOfVolwassenOnderwijs()?a("div",[a("div",{staticClass:"notification is-info is-light"},[e._v(" Aan de opgegeven onderwijsniveaus zijn geen vakken gelinkt, wil je toch een vak toevoegen op dit item, selecteer dan kleuter, lager of secundair onderwijs. ")])]):e._e(),!e.overige_vakken.length||e.suggesties_filtered.length||e.hogerOfVolwassenOnderwijs()?e._e():a("h3",{staticClass:"subtitle vakken-title"},[e._v(" Geen suggesties beschikbaar, volgende vakken zijn mogelijk. ")]),e.loading?a("div",{staticClass:"vakken-spinner-modal multiselect__spinner"}):e._e(),e.hogerOfVolwassenOnderwijs()?e._e():a("div",e._l(e.overige_filtered,(function(t,i){return a("div",{key:"sug"+i,staticClass:"columns"},e._l(t,(function(t){return a("div",{key:t.id,staticClass:"column is-one-fifth"},[a("div",{staticClass:"tile is-ancestor"},[a("div",{staticClass:"tile is-vertical mr-2 mt-2"},[a("div",{staticClass:"card",class:[e.vakIsSelected(t)?"vak-selected":""],on:{click:function(a){return e.toggleVakSelect(t)},mouseover:function(t){return e.changeToprowTooltip(t)}}},[a("header",{staticClass:"card-header"},[e.show_tooltips?a("p",{staticClass:"card-header-title is-primary has-tooltip-arrow has-tooltip-multiline",attrs:{"data-tooltip":t.definition}},[e._v(" "+e._s(t.label)+" ")]):e._e(),e.show_tooltips?e._e():a("p",{staticClass:"card-header-title"},[e._v(" "+e._s(t.label)+" ")])]),e.show_tooltips?e._e():a("div",{staticClass:"card-content"},[e._v(" "+e._s(t.definition)+" ")])])])])])})),0)})),0)],2),a("footer",{staticClass:"modal-card-foot"},[a("a",{staticClass:"button is-link close-themas-button",on:{click:function(t){return e.toggleSuggesties(t)}}},[e._v(" Sluiten ")])])])])]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.json_value,expression:"json_value"}],attrs:{name:"vakken",id:"vakken_json_value"},domProps:{value:e.json_value},on:{input:function(t){t.target.composing||(e.json_value=t.target.value)}}})],1)},de=[],ce=[],ue={name:"VakkenSelector",components:{Multiselect:u()},props:{metadata:Object},data(){return{value:ce,json_value:JSON.stringify(ce),options:[],show_vakken_suggesties:!1,suggestie_btn_label:"Toon suggesties voor vakken",vakken_suggesties:[],suggesties_filtered:[],overige_vakken:[],overige_filtered:[],niveaus:[],graden:[],themas:[],vakken_search:"",vakken_prev_search:"",show_tooltips:!0,loading:!1,vakken_loading:!0}},mounted:function(){this.$root.$on("themas_changed",(e=>{this.themas=e,this.updateSuggestions()})),this.$root.$on("onderwijs_changed",(e=>{console.log("calling updateSuggestions"),this.niveaus=e["niveaus"],this.graden=e["graden"],this.updateSuggestions()})),this.$root.$on("niveaus_changed",(e=>{this.niveaus=e,this.updateSuggestions()})),this.$root.$on("graden_changed",(e=>{this.graden=e,this.updateSuggestions()}))},created:function(){var e="http://localhost:5000",t=document.getElementById("redactie_api_url");t&&(e=t.innerText,this.loading=!0,A().get(e+"/vakken").then((e=>{for(var t in this.options=[],e.data){var a=e.data[t];this.options.push({id:a.id,label:this.truncateLabel(a.label),definition:a.definition,related_id:a.related_id})}this.loading=!1,this.vakken_loading=!1,this.loadSavedVakken()})))},methods:{loadSavedVakken(){if(this.metadata.item_vakken){var e=this.metadata.item_vakken;for(var t in this.value=[],e){var a=e[t]["value"],i="",s="",n="";for(var o in this.options){var l=this.options[o];if(l["id"]==a){i=l["label"],s=l["definition"],n=l["related_id"];break}}i.length>0&&this.value.push({id:a,label:i,definition:s,related_id:n})}}this.json_value=JSON.stringify(this.value),this.$root.$emit("vakken_changed",this.value)},updateValue(e){this.json_value=JSON.stringify(e),this.$root.$emit("vakken_changed",e),this.$root.$emit("metadata_edited","true")},vakIsSelected(e){for(var t in this.value){var a=this.value[t];if(e.id==a.id)return!0}return!1},updateOverigeVakken(e,t){var a={graden:this.graden,niveaus:this.niveaus};this.loading=!0,A().post(e+"/vakken_related",a).then((e=>{this.overige_vakken=[];var a=[];for(var i in e.data){var s=e.data[i];void 0==t[s.id]&&(s.label=this.truncateLabel(s.label),a.push(Object.assign({},s)),a.length>=5&&(this.overige_vakken.push(a),a=[]))}a.length>0&&this.overige_vakken.push(a),this.loading=!1,this.overige_filtered=JSON.parse(JSON.stringify(this.overige_vakken))}))},updateSuggestions(){var e="http://localhost:5000",t=document.getElementById("redactie_api_url");if(t){e=t.innerText;var a={graden:this.graden,themas:this.themas};if(console.log("post data=",a),0==a["graden"].length||0==a["themas"].length||this.hogerOfVolwassenOnderwijs())return this.vakken_suggesties=[],this.suggesties_filtered=[],this.overige_vakken=[],void(this.hogerOfVolwassenOnderwijs()||this.updateOverigeVakken(e,{}));this.loading=!0,A().post(e+"/vakken_suggest",a).then((t=>{this.vakken_suggesties=[];var a=[],i={};for(var s in t.data){var n=t.data[s];n["id"]&&(n.label=this.truncateLabel(n.label),i[n.id]=n,a.push(Object.assign({},n)),a.length>=5&&(this.vakken_suggesties.push(a),a=[]))}a.length>0&&this.vakken_suggesties.push(a),this.loading=!1,this.suggesties_filtered=JSON.parse(JSON.stringify(this.vakken_suggesties)),this.updateOverigeVakken(e,i)}))}},toggleSuggesties(e){e.preventDefault,this.show_vakken_suggesties=!this.show_vakken_suggesties,this.show_vakken_suggesties?this.suggestie_btn_label="Verberg suggesties voor vakken":(this.suggestie_btn_label="Toon suggesties voor vakken",this.$root.$emit("vakken_changed",this.value)),this.updateSuggestions()},toggleVakSelect:function(e){var t=!1;for(var a in this.value){var i=this.value[a];if(i.id==e.id){t=!0,this.value.splice(a,1);break}}if(!t){const t={id:e.id,label:e.label,definition:e.definition,related_id:e.related_id};this.value.push(t)}this.json_value=JSON.stringify(this.value),this.$root.$emit("vakken_changed",this.value),this.$root.$emit("metadata_edited","true")},zoek(e,t){var a=[],i=[];for(var s in t){var n=t[s];for(var o in n){var l=n[o],r=e.toLowerCase(),d=l.label.toLowerCase(),c=l.definition.toLowerCase();(d.includes(r)||c.includes(r))&&i.push(Object.assign({},l)),i.length>=5&&(a.push(JSON.parse(JSON.stringify(i))),i=[])}}return i.length>0&&a.push(JSON.parse(JSON.stringify(i))),a},zoekVakken(e){this.suggesties_filtered=this.zoek(this.vakken_search,this.vakken_suggesties),this.overige_filtered=this.zoek(this.vakken_search,this.overige_vakken),this.vakken_prev_search=this.vakken_search,this.vakken_search="",e.preventDefault()},changeToprowTooltip(e){var t=e.clientY,a=document.getElementById("vakken_modal_card").getBoundingClientRect().top,i=t-a;return i<200?e.target.classList.add("has-tooltip-bottom"):e.target.classList.remove("has-tooltip-bottom"),!0},truncateLabel(e){var t=45,a="...";return e&&e.length>t?e.substring(0,t)+a:e},hogerOfVolwassenOnderwijs(){for(var e in this.niveaus){var t=this.niveaus[e];if(t.id.includes("kleuter"))return!1;if(t.id.includes("lager"))return!1;if(t.id.includes("secundair"))return!1}return!0},showInlineSuggesties(){return!!this.suggesties_filtered.length}},filters:{truncate:function(e,t,a){return e.length>t?e.substring(0,t)+a:e}}},he=ue,ve=(0,_.Z)(he,re,de,!1,null,null,null),me=ve.exports,_e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.legacy_vakken.length>0?a("div",{attrs:{id:"legacy_vakken"}},[a("div",{staticClass:"field is-horizontal"},[e._m(0),a("div",{staticClass:"field-body"},[e.legacy_vakken.length&&!e.show_legacyvakken?a("div",[a("a",{on:{click:e.toggleLegacyvakken}},[e._v("Bekijk de legacy vakken")])]):e._e(),e.legacy_vakken.length&&e.show_legacyvakken?a("div",[a("a",{on:{click:e.toggleLegacyvakken}},[e._v("Verberg de legacy vakken")])]):e._e()])]),e.show_legacyvakken?a("div",{staticClass:"field is-horizontal"},[e._m(1),a("div",{staticClass:"field-body"},[a("div",{staticClass:"legacy-vakken-list"},[a("div",{staticClass:"legacy-title"}),e._l(e.legacy_vakken,(function(t,i){return a("div",{key:i,staticClass:"legacy-vak-pill is-pulled-left"},[e._v(" "+e._s(t.value)+" ")])})),a("div",{staticClass:"is-clearfix"})],2)])]):e._e()]):e._e()},ge=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"})])}],pe={name:"LegacyVakken",components:{},props:{metadata:Object},data(){return{legacy_vakken:[],vakken_suggesties:[],overige_vakken:[],graden:[],themas:[],vakken_search:"",vakken_prev_search:"",show_definitions:!1,show_legacyvakken:!1}},created:function(){this.metadata.item_vakken_legacy&&(this.legacy_vakken=this.metadata.item_vakken_legacy)},methods:{toggleLegacyvakken(){this.show_legacyvakken=!this.show_legacyvakken}},filters:{truncate:function(e,t,a){return e.length>t?e.substring(0,t)+a:e}}},fe=pe,ke=(0,_.Z)(fe,_e,ge,!1,null,null,null),be=ke.exports,we=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"trefwoorden_selector"}},[a("multiselect",{attrs:{"tag-placeholder":"Maak nieuw trefwoord aan","select-label":"Selecteer trefwoord","deselect-label":"Verwijder trefwoord","show-labels":!1,blockKeys:["Delete"],"hide-selected":!0,loading:e.loading,placeholder:"",label:"name","track-by":"code",options:e.options,multiple:!0,taggable:!0},on:{"search-change":e.elasticSearch,tag:e.addKeywordDialog,input:e.updateValue},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[a("span",{attrs:{slot:"noOptions"},slot:"noOptions"},[e._v("Zoek trefwoord")]),a("span",{attrs:{slot:"noResult"},slot:"noResult"},[e._v("Trefwoord niet gevonden")])]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.json_value,expression:"json_value"}],attrs:{name:"trefwoorden",id:"trefwoorden_json_value"},domProps:{value:e.json_value},on:{input:function(t){t.target.composing||(e.json_value=t.target.value)}}}),a("div",{staticClass:"create-trefwoord",class:[e.show_keyword_dialog?"show":"hide"]},[a("div",{staticClass:"modal is-active",attrs:{id:"keyword_modal"}},[a("div",{staticClass:"modal-background"}),a("div",{staticClass:"modal-card",attrs:{id:"keyword_modal_card"}},[e._m(0),a("section",{staticClass:"modal-card-body"},[a("p",[e._v(" Ben je zeker dat je een volledig nieuw trefwoord wil toevoegen? ")]),a("br"),a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label is-normal"},[e._v(" Trefwoord ")]),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.new_keyword,expression:"new_keyword"}],staticClass:"input keyword-input",attrs:{id:"keyword_input",type:"text"},domProps:{value:e.new_keyword},on:{input:function(t){t.target.composing||(e.new_keyword=t.target.value)}}})])])])])]),a("footer",{staticClass:"modal-card-foot buttons-right"},[a("a",{staticClass:"button is-link is-light",on:{click:function(t){return e.cancelKeywordDialog()}}},[e._v(" Annuleren ")]),a("a",{staticClass:"button is-link",on:{click:function(t){return e.addKeyword(e.new_keyword)}}},[e._v(" Toevoegen ")])])])])]),e.cp_keywords.length?a("div",[a("div",{staticClass:"cp_keywords_button"},[a("a",{on:{click:e.toggleKeywordCollapse}},[e._v(" "+e._s(e.cp_keyword_label)+" ")]),a("div",{staticClass:"warning-pill",class:[e.show_already_added_warning?"show":"hide"]},[e._v(" Trefwoord werd al toegevoegd. ")])]),a("div",{staticClass:"cp_keywords",class:[e.show_cp_keywords?"show":"hide"]},[e.cp_keywords.length?e._e():a("div",{staticClass:"notification is-info is-light"},[e._v(" Voor dit item zijn er geen contentpartner trefwoorden. ")]),e._l(e.cp_keywords,(function(t){return a("div",{key:t.code,staticClass:"keyword-pill is-pulled-left"},[e._v(" "+e._s(t.name)+" ")])})),a("div",{staticClass:"is-clearfix"})],2)]):e._e()],1)},ye=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",{staticClass:"modal-card-head"},[a("p",{staticClass:"modal-card-title"},[e._v("Nieuw trefwoord")])])}],je=[],Ce={name:"TrefwoordenSelector",components:{Multiselect:u()},props:{metadata:Object},data(){return{value:je,json_value:JSON.stringify(je),options:[],loading:!1,redactie_api_url:"",cp_keyword_label:"Bekijk de trefwoorden van de contentpartner",cp_keywords:[],show_cp_keywords:!1,show_already_added_warning:!1,new_keyword:"",show_keyword_dialog:!1}},created(){if(this.metadata.item_keywords){var e=this.metadata.item_keywords;for(var t in this.value=[],e){var a=e[t];this.value.push({name:a["value"],code:a["value"]})}this.json_value=JSON.stringify(this.value)}if(this.metadata.item_keywords_cp){var i=this.metadata.item_keywords_cp;for(var s in this.cp_keywords=[],i){var n=i[s];this.cp_keywords.push({name:n["value"],code:n["value"]})}}var o=document.getElementById("redactie_api_url");o&&(this.redactie_api_url=o.innerText)},methods:{updateValue(e){this.json_value=JSON.stringify(e),this.$root.$emit("metadata_edited","true")},toggleKeywordCollapse(){this.show_cp_keywords=!this.show_cp_keywords,this.show_cp_keywords?this.cp_keyword_label="Verberg de trefwoorden van de contentpartner":this.cp_keyword_label="Bekijk de trefwoorden van de contentpartner"},addCpKeyword(e){var t=!1;for(var a in this.value){var i=this.value[a];if(i.code==e.code){t=!0;break}}if(t)this.show_already_added_warning=!0,setTimeout((()=>{this.show_already_added_warning=!1}),3e3);else{const t={name:e.name,code:e.code};this.options.push(t),this.value.push(t),this.json_value=JSON.stringify(this.value)}},addKeyword(e){this.show_keyword_dialog=!1;const t={name:e,code:e.substring(0,2)+Math.floor(1e7*Math.random())};this.options.push(t),this.value.push(t),this.json_value=JSON.stringify(this.value),this.$root.$emit("metadata_edited","true")},cancelKeywordDialog(){this.show_keyword_dialog=!1},addKeywordDialog(e){this.new_keyword=e,this.show_keyword_dialog=!0,setTimeout((function(){document.getElementById("keyword_input").focus()}),100)},elasticSearch(e){e.length<3?this.options=[]:(this.loading=!0,A().post(this.redactie_api_url+"/keyword_search",{qry:e}).then((e=>{for(var t in this.options=[],e.data){var a=e.data[t];const i={name:a["text"],code:a["_id"]};this.options.push(i)}this.loading=!1})).catch((e=>{console.log("keywoard search error=",e.message),this.loading=!1})))}}},Se=Ce,Oe=(0,_.Z)(Se,we,ye,!1,null,null,null),$e=Oe.exports,Te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"minimize-icon-wrapper"},[a("span",{class:[e.minimized?"icon-folded":"icon-unfolded"]},[a("ion-icon",{staticClass:"md hydrated",attrs:{name:"chevron-down-circle-outline",role:"img","aria-label":"chevron down circle outline"}})],1),a("span",{class:[e.minimized?"icon-unfolded":"icon-folded"]},[a("ion-icon",{staticClass:"md hydrated",attrs:{name:"chevron-forward-circle-outline",role:"img","aria-label":"chevron forward circle outline"}})],1)])},xe=[],Ne={name:"CollapseIcon",components:{},props:{minimized:Boolean},methods:{updateValue(e){this.json_value=JSON.stringify(e)}}},Ve=Ne,Ee=(0,_.Z)(Ve,Te,xe,!1,null,null,null),ze=Ee.exports,Je={name:"LomSection",components:{TypeSelector:p,EindgebruikerSelector:C,TalenSelector:V,OnderwijsSelector:ee,ThemaSelector:le,VakkenSelector:me,LegacyVakken:be,TrefwoordenSelector:$e,CollapseIcon:ze},props:{metadata:Object},data(){return{isMinimized:!1,onderwijsCombo:!0}},created(){},methods:{toggleCollapse:function(){this.isMinimized=!this.isMinimized}}},Ie=Je,Le=(0,_.Z)(Ie,o,l,!1,null,null,null),Ae=Le.exports,Be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"columns pub-status-section"},[a("div",{staticClass:"column"},[a("h2",{staticClass:"title"},[e._v("Publicatiestatus")]),a("hr"),a("label",{staticClass:"checkbox"},[e.loading?e._e():a("input",{directives:[{name:"model",rawName:"v-model",value:e.publish_item,expression:"publish_item"}],attrs:{type:"checkbox",name:"publicatiestatus_checked",id:"publicatiestatus_checked"},domProps:{checked:Array.isArray(e.publish_item)?e._i(e.publish_item,null)>-1:e.publish_item},on:{change:[function(t){var a=e.publish_item,i=t.target,s=!!i.checked;if(Array.isArray(a)){var n=null,o=e._i(a,n);i.checked?o<0&&(e.publish_item=a.concat([n])):o>-1&&(e.publish_item=a.slice(0,o).concat(a.slice(o+1)))}else e.publish_item=s},e.statusChanged]}}),e.loading?a("div",{staticClass:"checkbox-spinner multiselect__spinner"}):e._e(),e._v(" Dit item mag gepubliceerd worden op "),a("a",{attrs:{target:"blank",href:"https://onderwijs.hetarchief.be"}},[e._v("Het Archief voor Onderwijs.")])])]),a("br")])},Pe=[],Ke={name:"PublicatieStatus",props:{metadata:Object},data(){return{publish_item:!1,loading:!0}},methods:{statusChanged(){this.$root.$emit("metadata_edited","true")}},created(){if("ajax"==this.metadata.publish_item){var e="http://localhost:5000",t=document.getElementById("redactie_api_url");if(!t)return;e=t.innerText;var a={pid:this.metadata.pid,department:this.metadata.department};A().get(e+"/publicatie_status",{params:a}).then((e=>{this.publish_item=e.data.publish_item,this.loading=!1})).catch((e=>{console.log(e.toJSON()),this.loading=!1}))}else this.publish_item=this.metadata.publish_item,this.loading=!1}},Me=Ke,Ze=(0,_.Z)(Me,Be,Pe,!1,null,null,null),De=Ze.exports,Re={name:"App",data(){return{metadata:{}}},components:{LomSection:Ae,PublicatieStatus:De},mounted(){this.$root.$on("metadata_edited",(e=>{var t=document.getElementById("metadata_form_edited");t&&(t.value=e)}))},created(){var e=document.getElementById("redactie_metadata");e&&(this.metadata=JSON.parse(e.value))}},Ge=Re,He=(0,_.Z)(Ge,s,n,!1,null,null,null),Fe=He.exports;i.Z.config.productionTip=!1,i.Z.config.ignoredElements=[/^ion-/],new i.Z({render:e=>e(Fe)}).$mount("#app")}},t={};function a(i){var s=t[i];if(void 0!==s)return s.exports;var n=t[i]={exports:{}};return e[i].call(n.exports,n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(t,i,s,n){if(!i){var o=1/0;for(c=0;c<e.length;c++){i=e[c][0],s=e[c][1],n=e[c][2];for(var l=!0,r=0;r<i.length;r++)(!1&n||o>=n)&&Object.keys(a.O).every((function(e){return a.O[e](i[r])}))?i.splice(r--,1):(l=!1,n<o&&(o=n));if(l){e.splice(c--,1);var d=s();void 0!==d&&(t=d)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[i,s,n]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,i){var s,n,o=i[0],l=i[1],r=i[2],d=0;if(o.some((function(t){return 0!==e[t]}))){for(s in l)a.o(l,s)&&(a.m[s]=l[s]);if(r)var c=r(a)}for(t&&t(i);d<o.length;d++)n=o[d],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(c)},i=self["webpackChunktestje"]=self["webpackChunktestje"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=a.O(void 0,[998],(function(){return a(669)}));i=a.O(i)})();
//# sourceMappingURL=app.7347a99d.js.map