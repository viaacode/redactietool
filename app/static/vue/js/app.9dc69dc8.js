(function(e){function t(t){for(var i,o,l=t[0],r=t[1],d=t[2],u=0,v=[];u<l.length;u++)o=l[u],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&v.push(n[o][0]),n[o]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);c&&c(t);while(v.length)v.shift()();return s.push.apply(s,d||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],i=!0,l=1;l<a.length;l++){var r=a[l];0!==n[r]&&(i=!1)}i&&(s.splice(t--,1),e=o(o.s=a[0]))}return e}var i={},n={app:0},s=[];function o(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=i,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(a,i,function(t){return e[t]}.bind(null,i));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],r=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var c=r;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";a("85ec")},"080a":function(e,t,a){"use strict";a("a612")},"0d67":function(e,t,a){"use strict";a("e2fe")},"14dd":function(e,t,a){},"29a9":function(e,t,a){},"569e":function(e,t,a){"use strict";a("85ef")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("LomSection",{attrs:{metadata:e.metadata}}),a("PublicatieStatus",{attrs:{metadata:e.metadata}})],1)},s=[],o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"lom1_section_wrapper"},[a("h2",{staticClass:"title is-clickable",on:{click:e.toggleCollapse}},[e._v(" Leerobject "),a("CollapseIcon",{attrs:{minimized:e.isMinimized}})],1),a("hr"),a("div",{class:{minimized:e.isMinimized},attrs:{id:"lom1_section_block"}},[a("div",{staticClass:"field is-horizontal"},[e._m(0),a("div",{staticClass:"field-body"},[a("TypeSelector",{attrs:{metadata:e.metadata}})],1)]),a("div",{staticClass:"field is-horizontal"},[e._m(1),a("div",{staticClass:"field-body"},[a("EindgebruikerSelector",{attrs:{metadata:e.metadata}})],1)]),a("div",{staticClass:"field is-horizontal"},[e._m(2),a("div",{staticClass:"field-body"},[a("TalenSelector",{attrs:{metadata:e.metadata}})],1)]),a("OnderwijsSelector",{attrs:{comboEdit:e.onderwijsCombo,metadata:e.metadata}}),a("div",{staticClass:"field is-horizontal"},[e._m(3),a("div",{staticClass:"field-body"},[a("ThemaSelector",{attrs:{metadata:e.metadata}})],1)]),a("div",{staticClass:"field is-horizontal"},[e._m(4),a("div",{staticClass:"field-body"},[a("VakkenSelector",{attrs:{metadata:e.metadata}})],1)]),a("LegacyVakken",{attrs:{metadata:e.metadata}}),a("div",{staticClass:"field is-horizontal"},[e._m(5),a("div",{staticClass:"field-body"},[a("TrefwoordenSelector",{attrs:{metadata:e.metadata}})],1)])],1)])},l=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[e._v("Type")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label label-two-lines"},[e._v("Beoogde eindgebruiker")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[e._v("Taal")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[e._v("Thema's")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[e._v("Vakken")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[e._v("Trefwoorden")])])}],r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"lom_type_selector"}},[a("multiselect",{attrs:{placeholder:"Kies media type",label:"name","track-by":"code",options:e.options,multiple:!1,taggable:!1,searchable:!1,"allow-empty":!1,"show-labels":!1},on:{input:e.updateValue},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[a("template",{slot:"noResult"},[e._v("Media type niet gevonden")])],2),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.json_value,expression:"json_value"}],attrs:{name:"lom_type",id:"lom_type_json_value"},domProps:{value:e.json_value},on:{input:function(t){t.target.composing||(e.json_value=t.target.value)}}})],1)},d=[],c=(a("e9c4"),a("8e5f")),u=a.n(c),v=[{name:"Video",code:"Video"}],h={name:"TypeSelector",components:{Multiselect:u.a},props:{metadata:Object},data:function(){return{value:v,json_value:JSON.stringify(v),options:[{name:"Video",code:"Video"},{name:"Audio",code:"Audio"}]}},created:function(){if(this.metadata.item_type){var e=this.metadata.item_type;this.value=[{name:e,code:e}],this.json_value=JSON.stringify(this.value)}},methods:{updateValue:function(e){this.json_value=JSON.stringify([e]),this.$root.$emit("metadata_edited","true")}}},m=h,_=(a("60bc"),a("0d67"),a("2877")),g=Object(_["a"])(m,r,d,!1,null,null,null),f=g.exports,p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"eindgebruikers_selector"}},[a("multiselect",{attrs:{placeholder:"Kies eindgebruikers",label:"name","track-by":"code",options:e.options,multiple:!0,"show-labels":!1,"hide-selected":!0,blockKeys:["Delete"],searchable:!1,taggable:!1},on:{input:e.updateValue},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[a("template",{slot:"noResult"},[e._v("Beoogde eindgebruiker niet gevonden")])],2),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.json_value,expression:"json_value"}],attrs:{name:"lom1_beoogde_eindgebruiker",id:"eindgebruikers_json_value"},domProps:{value:e.json_value},on:{input:function(t){t.target.composing||(e.json_value=t.target.value)}}})],1)},k=[],b=[],w={name:"EindgebruikerSelector",components:{Multiselect:u.a},props:{metadata:Object},data:function(){return{value:b,json_value:JSON.stringify(b),options:[{name:"Docent",code:"Docent"},{name:"Student",code:"Student"},{name:"Directie",code:"Directie"},{name:"ICT-coördinator",code:"ICT-coördinator"},{name:"Systeembeheerder",code:"Systeembeheerder"},{name:"Preventieadviseur",code:"Preventieadviseur"},{name:"GOK",code:"GOK / Zorgcoördinator"},{name:"Pedagogisch begeleider",code:"Pedagogisch begeleider"},{name:"Inspectielid",code:"Inspectielid"},{name:"Administratief personeel",code:"Administratief personeel"},{name:"Met pensioen",code:"Met pensioen"},{name:"Ouder",code:"Ouder"},{name:"Ander",code:"Ander"}]}},created:function(){if(this.metadata.item_eindgebruikers){var e=this.metadata.item_eindgebruikers;for(var t in this.value=[],e){var a=e[t];this.value.push({name:a["value"],code:a["value"]})}}this.json_value=JSON.stringify(this.value)},methods:{updateValue:function(e){this.json_value=JSON.stringify(e),this.$root.$emit("metadata_edited","true")}}},y=w,j=(a("92cc"),Object(_["a"])(y,p,k,!1,null,null,null)),C=j.exports,S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"talen_selector"}},[a("multiselect",{attrs:{placeholder:"Zoek taal",label:"name","track-by":"code",options:e.options,multiple:!0,"show-labels":!1,blockKeys:["Delete"],"hide-selected":!0,taggable:!1},on:{input:e.updateValue},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[a("template",{slot:"noResult"},[e._v("Taal niet gevonden")])],2),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.json_value,expression:"json_value"}],attrs:{name:"talen",id:"talen_json_value"},domProps:{value:e.json_value},on:{input:function(t){t.target.composing||(e.json_value=t.target.value)}}}),a("pre",{staticClass:"language-json",attrs:{id:"talen_value_preview"}},[a("code",[e._v(e._s(e.value))])])],1)},O=[],$=(a("b0c0"),[]),x={name:"TalenSelector",components:{Multiselect:u.a},props:{metadata:Object},data:function(){return{value:$,json_value:JSON.stringify($),options:[{name:"Nederlands",code:"nl"},{name:"Frans",code:"fr"},{name:"Duits",code:"de"},{name:"Italiaans",code:"it"},{name:"Engels",code:"en"},{name:"Spaans",code:"es"},{name:"Afar",code:"aa"},{name:"Abchazisch",code:"ab"},{name:"Afrikaans",code:"af"},{name:"Amhaars",code:"am"},{name:"Arabisch",code:"ar"},{name:"Assamees",code:"as"},{name:"Aymara",code:"ay"},{name:"Azerbeidzjaans",code:"az"},{name:"Basjkir",code:"ba"},{name:"Wit-Russisch",code:"be"},{name:"Bislama",code:"bi"},{name:"Bengaals",code:"bn"},{name:"Tibetaans",code:"bo"},{name:"Bretons",code:"br"},{name:"Catalaans",code:"ca"},{name:"Tsjechisch",code:"cs"},{name:"Welch",code:"cy"},{name:"Deens",code:"da"},{name:"Bhutani",code:"dz"},{name:"Grieks",code:"el"},{name:"Esperanto",code:"eo"},{name:"Ests",code:"et"},{name:"Baskisch",code:"eu"},{name:"Perzisch",code:"fa"},{name:"Fins",code:"fi"},{name:"Fiji",code:"fj"},{name:"Iers",code:"ga"},{name:"Schots Gaelic",code:"gd"},{name:"Galicisch",code:"gl"},{name:"Guarani",code:"gn"},{name:"Gujarati",code:"gu"},{name:"Hausa",code:"ha"},{name:"Hebreeuws",code:"he"},{name:"Hindi",code:"hi"},{name:"Hongaars",code:"hu"},{name:"Kroatisch",code:"hr"},{name:"Hongaars",code:"hu"},{name:"Armeens",code:"hy"},{name:"Interlingua",code:"ia"},{name:"Indonesisch",code:"id"},{name:"Interlingue",code:"ie"},{name:"Inupiak",code:"ik"},{name:"IJslands",code:"is"},{name:"Inuktitut (Eskimo)",code:"iu"},{name:"Japans",code:"ja"},{name:"Georgisch",code:"ka"},{name:"Kazachs",code:"kk"},{name:"Groenlands",code:"kl"},{name:"Cambodjaans",code:"km"},{name:"Kannada",code:"kn"},{name:"Koreaans",code:"ko"},{name:"Kasjmir",code:"ks"},{name:"Koerdisch",code:"ku"},{name:"Kirgizisch",code:"ky"},{name:"latijns",code:"la"},{name:"Lingala",code:"ln"},{name:"Laotiaans",code:"lo"},{name:"Litouws",code:"lt"},{name:"Lets, Lets",code:"lv"},{name:"Malagasi",code:"mg"},{name:"Macedonisch",code:"mk"},{name:"Malayalam",code:"ml"},{name:"Mongools",code:"mn"},{name:"Marathi",code:"mr"},{name:"Maleis",code:"ms"},{name:"Maltees",code:"mt"},{name:"Birmaans",code:"my"},{name:"Nauru",code:"na"},{name:"Nepalees",code:"ne"},{name:"Noors",code:"no"},{name:"Occitaans",code:"oc"},{name:"(Afan) Oromo",code:"om"},{name:"Oriya",code:"or"},{name:"Punjabi",code:"pa"},{name:"Pools",code:"pl"},{name:"Pashto, Pushto",code:"ps"},{name:"Portugees",code:"pt"},{name:"Quechua",code:"qu"},{name:"Reto-Romaans",code:"rm"},{name:"Kirundi",code:"rn"},{name:"Roemeens",code:"ro"},{name:"Russisch",code:"ru"},{name:"Kinyarwanda",code:"rw"},{name:"Sanskriet",code:"sa"},{name:"Sindhi",code:"sd"},{name:"Sangro",code:"sg"},{name:"Servo-Kroatisch",code:"sh"},{name:"Singalees",code:"si"},{name:"Slowaaks",code:"sk"},{name:"Sloveens",code:"sl"},{name:"Samoaans",code:"sm"},{name:"Shona",code:"sn"},{name:"Somalisch",code:"so"},{name:"Albanees",code:"sq"},{name:"Servisch",code:"sr"},{name:"Siswati",code:"ss"},{name:"Sesotho",code:"st"},{name:"Soedanees",code:"su"},{name:"Zweeds",code:"sv"},{name:"Swahili",code:"sw"},{name:"Tamil",code:"ta"},{name:"Telugu",code:"te"},{name:"Tadzjieks",code:"tg"},{name:"Thais",code:"th"},{name:"Tigrinya",code:"ti"},{name:"Turkmeens",code:"tk"},{name:"Tagalog",code:"tl"},{name:"Setswana",code:"tn"},{name:"Tonga",code:"to"},{name:"Turks",code:"tr"},{name:"Tsonga",code:"ts"},{name:"Tataars",code:"tt"},{name:"twee keer",code:"tw"},{name:"Oeigoers",code:"ug"},{name:"Oekraïens",code:"uk"},{name:"Urdu",code:"ur"},{name:"Oezbeeks",code:"uz"},{name:"Vietnamees",code:"vi"},{name:"Volapuk",code:"vo"},{name:"Wolof",code:"wo"},{name:"Xhosa",code:"xh"},{name:"Jiddisch",code:"yi"},{name:"Yoruba",code:"yo"},{name:"Zhuang",code:"za"},{name:"Chinees",code:"zh"},{name:"Zulu",code:"zu"}]}},created:function(){if(this.metadata.item_languages){var e=this.metadata.item_languages;for(var t in this.value=[],e){var a=e[t]["value"],i="";for(var n in this.options){var s=this.options[n];if(s["code"]==a){i=s["name"];break}}this.value.push({name:i,code:a})}}this.json_value=JSON.stringify(this.value)},methods:{updateValue:function(e){this.json_value=JSON.stringify(e),this.$root.$emit("metadata_edited","true")}}},T=x,N=(a("b486"),Object(_["a"])(T,S,O,!1,null,null,null)),V=N.exports,E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"onderwijs_selector"}},[e.comboEdit?a("div",{staticClass:"field is-horizontal"},[e._m(0),a("div",{staticClass:"field-body"},[a("div",{attrs:{id:"onderwijs_selector_dropdown"}},[a("multiselect",{attrs:{placeholder:"Selecteer opleiding",label:"label","track-by":"id",options:e.options,multiple:!0,"show-labels":!1,"hide-selected":!0,blockKeys:["Delete"],searchable:!1,taggable:!1,loading:e.loading},on:{input:e.updateValue,remove:e.removeValue,select:e.addValue},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[a("template",{slot:"noResult"},[e._v("niet gevonden")]),a("template",{slot:"noOptions"},[e._v("loading...")])],2),e.show_vakken_warning?a("p",{staticClass:"help is-danger vakken-warning"},[e._v(" Opgelet: indien je deze waarde verwijdert, zijn mogelijks een aantal vakken niet meer relevant   ")]):e._e(),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.json_value,expression:"json_value"}],attrs:{name:"lom_onderwijs_combo",id:"onderwijs_json_value"},domProps:{value:e.json_value},on:{input:function(t){t.target.composing||(e.json_value=t.target.value)}}})],1)])]):e._e(),a("div",{class:[e.value.length&&!e.show_onderwijsstructuur?"show":"hide"]},[a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label is-normal"}),a("div",{staticClass:"field-body"},[a("a",{on:{click:e.toggleOnderwijsstructuur}},[e._v("Bekijk de onderwijsstructuur")])])])]),a("div",{class:[e.value.length&&e.show_onderwijsstructuur?"show":"hide"]},[a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label is-normal"}),a("div",{staticClass:"field-body"},[a("a",{on:{click:e.toggleOnderwijsstructuur}},[e._v("Verberg de onderwijsstructuur")])])]),a("OnderwijsniveausSelector",{attrs:{metadata:e.metadata,comboEdit:e.comboEdit}}),a("OnderwijsgradenSelector",{attrs:{metadata:e.metadata,comboEdit:e.comboEdit}})],1)])},z=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[e._v("Onderwijs")])])}],J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label is-normal"},[e.comboEdit?e._e():a("label",{staticClass:"label"},[e._v("Onderwijsgraden")]),e.comboEdit?a("label",{staticClass:"label"}):e._e()]),a("div",{staticClass:"field-body"},[a("div",{attrs:{id:"onderwijsgraden_selector"}},[e.comboEdit?e._e():a("span",[a("multiselect",{attrs:{placeholder:"Selecteer onderwijsgraden",label:"label","track-by":"id",options:e.graden_filtered,multiple:!0,"show-labels":!1,"hide-selected":!0,taggable:!1,searchable:!1,loading:e.loading},on:{input:e.updateValue,remove:e.removeGraad},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[a("template",{slot:"noResult"},[e._v("Onderwijsgraad niet gevonden")]),a("template",{slot:"noOptions"},[e._v(" Selecteer secundair of lager in onderwijsniveaus ")])],2)],1),e.comboEdit&&e.value.length?a("div",{staticClass:"inline-graden-wrapper"},[a("div",{staticClass:"graden-inline-title"},[e._v("Onderwijsgraden")]),a("div",{staticClass:"inline-graden-list"},[e._l(e.value,(function(t){return a("div",{key:t.id,staticClass:"graden-pill is-pulled-left"},[e._v(" "+e._s(t.label)+" ")])})),a("div",{staticClass:"is-clearfix"})],2)]):e._e(),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.json_value,expression:"json_value"}],attrs:{name:"lom1_onderwijsgraden",id:"onderwijsgraden_json_value"},domProps:{value:e.json_value},on:{input:function(t){t.target.composing||(e.json_value=t.target.value)}}})])])])},A=[],B=a("bc3a"),P=a.n(B),I=[],L={name:"OnderwijsgradenSelector",components:{Multiselect:u.a},props:{comboEdit:Boolean,metadata:Object},data:function(){return{value:I,json_value:JSON.stringify(I),options:[{id:"loading...",label:"Onderwijsgraden inladen...",definition:"Onderwijsgraden inladen..."}],niveaus:[],graden_filtered:[],loading:!1}},mounted:function(){var e=this;this.$root.$on("niveaus_changed",(function(t){e.niveaus=t,e.filterGraden()})),this.$root.$on("onderwijs_changed",(function(t){e.niveaus=t["niveaus"],e.value=t["graden"],e.json_value=JSON.stringify(e.value)}))},created:function(){var e=this,t="http://localhost:5000",a=document.getElementById("redactie_api_url");a&&(t=a.innerText,this.loading=!0,P.a.get(t+"/onderwijsgraden").then((function(t){if(e.options=t.data,e.$root.$emit("graden_options_loaded",e.options),e.value=[],e.metadata.item_onderwijsgraden){var a=e.metadata.item_onderwijsgraden,i={};if(a["show_legacy"]){if(e.metadata.item_onderwijsgraden_legacy){console.log("legacy fallback voor onderwijsgraden (lom_typicalagerange)");var n=e.metadata.item_onderwijsgraden_legacy;for(var s in n){var o=n[s]["value"];for(var l in e.options)if(i=e.options[l],o==i["definition"]){e.value.push({id:i["id"],label:i["label"],definition:i["definition"],child_count:i["child_count"],parent_id:i["parent_id"]});break}}}}else for(var r in console.log("loading new onderwijsgraden from (lom_onderwijsgraad)..."),a){var d=a[r]["value"];for(var c in e.options)if(i=e.options[c],d==i["id"]){e.value.push({id:d,label:i["label"],definition:i["definition"],child_count:i["child_count"],parent_id:i["parent_id"]});break}}e.filterGraden(),e.json_value=JSON.stringify(e.value),e.$root.$emit("graden_changed",e.value)}e.loading=!1})))},methods:{removeGraad:function(e){console.log("removed graad, check vakken values and give warning here=",e)},updateValue:function(e){this.json_value=JSON.stringify(e),this.$root.$emit("graden_changed",e),this.$root.$emit("metadata_edited","true")},filterGraden:function(){var e={};for(var t in this.niveaus){var a=this.niveaus[t];e[a.id]="niveau_selected"}for(var i in this.graden_filtered=[],this.options){var n=this.options[i];"niveau_selected"==e[n["parent_id"]]&&this.graden_filtered.push(n)}}}},M=L,K=(a("f329"),Object(_["a"])(M,J,A,!1,null,null,null)),D=K.exports,R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field is-horizontal",class:[e.value.length?"":"niveaus-pull-up"]},[a("div",{staticClass:"field-label is-normal"},[e.comboEdit?e._e():a("label",{staticClass:"label"},[e._v("Onderwijsniveaus")]),e.comboEdit?a("label",{staticClass:"label"}):e._e()]),a("div",{staticClass:"field-body"},[a("div",{attrs:{id:"onderwijsniveaus_selector"}},[e.comboEdit?e._e():a("span",[a("multiselect",{attrs:{placeholder:"Selecteer onderwijsniveaus",label:"label","track-by":"id",options:e.options,multiple:!0,"show-labels":!1,"hide-selected":!0,searchable:!1,taggable:!1},on:{input:e.updateValue},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[a("template",{slot:"noResult"},[e._v("Onderwijsniveau niet gevonden")])],2)],1),e.comboEdit&&e.value.length?a("div",{staticClass:"inline-niveau-wrapper"},[a("div",{staticClass:"niveau-inline-title"},[e._v("Onderwijsniveaus")]),a("div",{staticClass:"inline-niveau-list"},[e._l(e.value,(function(t){return a("div",{key:t.id,staticClass:"niveau-pill is-pulled-left"},[e._v(" "+e._s(t.label)+" ")])})),a("div",{staticClass:"is-clearfix"})],2)]):e._e(),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.json_value,expression:"json_value"}],attrs:{name:"lom1_onderwijsniveaus",id:"onderwijsniveaus_json_value"},domProps:{value:e.json_value},on:{input:function(t){t.target.composing||(e.json_value=t.target.value)}}})])])])},G=[],Z=[],H={name:"OnderwijsniveausSelector",components:{Multiselect:u.a},props:{comboEdit:Boolean,metadata:Object},data:function(){return{value:Z,json_value:JSON.stringify(Z),options:[{id:"",label:"Onderwijsniveaus inladen...",definition:"Onderwijsniveaus inladen..."}]}},mounted:function(){var e=this;this.$root.$on("onderwijs_changed",(function(t){e.value=t["niveaus"],e.json_value=JSON.stringify(e.value)}))},created:function(){var e=this,t="http://localhost:5000",a=document.getElementById("redactie_api_url");a&&(t=a.innerText,P.a.get(t+"/onderwijsniveaus").then((function(t){if(e.options=t.data,e.$root.$emit("niveau_options_loaded",e.options),e.value=[],e.metadata.item_onderwijsniveaus){var a=e.metadata.item_onderwijsniveaus,i={},n={};if(a["show_legacy"]){if(console.log("legacy fallback voor onderwijsniveaus (lom_context)..."),e.metadata.item_onderwijsniveaus_legacy){var s=e.metadata.item_onderwijsniveaus_legacy;for(var o in s)for(var l in i["definition"]=s[o]["value"],e.options)if(n=e.options[l],i["definition"]==n["definition"]){e.value.push({id:n["id"],label:n["label"],definition:n["definition"],collection:n["collection"],child_count:n["child_count"],parent_id:n["parent_id"]});break}}}else for(var r in console.log("loading new onderwijsniveaus from (lom_onderwijsniveau)..."),a)for(var d in i["id"]=a[r]["value"],e.options)if(n=e.options[d],i["id"]==n["id"]){e.value.push({id:n["id"],label:n["label"],definition:n["definition"],collection:n["collection"],child_count:n["child_count"],parent_id:n["parent_id"]});break}e.json_value=JSON.stringify(e.value),e.$root.$emit("niveaus_changed",e.value)}})))},methods:{updateValue:function(e){this.json_value=JSON.stringify(e),this.$root.$emit("niveaus_changed",e),this.$root.$emit("metadata_edited","true")}}},W=H,q=(a("a304"),Object(_["a"])(W,R,G,!1,null,null,null)),F=q.exports,Y=[],Q={name:"OnderwijsSelector",components:{Multiselect:u.a,OnderwijsgradenSelector:D,OnderwijsniveausSelector:F},props:{comboEdit:Boolean,metadata:Object},data:function(){return{value:Y,json_value:JSON.stringify(Y),options:[{id:"",label:"Thesaurus data inladen...",definition:"Thesaurus data inladen..."}],niveaus:[],graden:[],niveau_options:[],graden_options:[],loading:!0,show_vakken_warning:!1,vakken_selected:[],show_onderwijsstructuur:!1}},mounted:function(){var e=this;this.$root.$on("niveaus_changed",(function(t){e.niveaus=t,e.readValues()})),this.$root.$on("graden_changed",(function(t){e.graden=t,e.readValues()})),this.$root.$on("niveau_options_loaded",(function(t){e.niveau_options=t,e.readOptions()})),this.$root.$on("graden_options_loaded",(function(t){e.graden_options=t,e.readOptions()})),this.$root.$on("vakken_changed",(function(t){t.length?e.vakken_selected=t:e.vakken_selected=[]}))},created:function(){this.options=[],this.value=[],this.json_value=JSON.stringify(this.value)},methods:{toggleOnderwijsstructuur:function(){this.show_onderwijsstructuur=!this.show_onderwijsstructuur},isRelated:function(e,t){if(void 0==e["related_id"])return!1;for(var a in e["related_id"]){var i=e["related_id"][a];if(i==t["id"])return!0}},removeValue:function(e){if(this.show_vakken_warning=!1,this.vakken_selected.length)for(var t in this.vakken_selected){var a=this.vakken_selected[t];if(this.isRelated(a,e))return void(this.show_vakken_warning=!0)}},addValue:function(){this.show_vakken_warning=!1},closeVakkenWarning:function(e){e.preventDefault(),this.show_vakken_warning=!1},isLeaf:function(e){return 0==e.child_count},updateValue:function(e){this.json_value=JSON.stringify(e);var t=[],a=[],i={};for(var n in e){var s=e[n];"niveau"==s.type&&this.isLeaf(s)&&(a.push({id:s.id,label:s["label"],definition:s["definition"],collection:s["collection"],child_count:s["child_count"],parent_id:s["parent_id"]}),s["parent_id"]&&(i[s["parent_id"]]=s)),"graad"==s.type&&(t.push({id:s.id,label:s["label"],definition:s["definition"],child_count:s["child_count"],parent_id:s["parent_id"]}),s["parent_id"]&&(i[s["parent_id"]]=s))}for(var o in i)for(var l in this.niveau_options){var r=this.niveau_options[l];r.id==o&&a.push(r)}var d={niveaus:a,graden:t};this.$root.$emit("onderwijs_changed",d),this.$root.$emit("metadata_edited","true")},readValues:function(){for(var e in this.value=[],this.niveaus){var t=this.niveaus[e];this.isLeaf(t)&&this.value.push({id:t.id,label:t["label"],definition:t["definition"],collection:t["collection"],child_count:t["child_count"],parent_id:t["parent_id"],type:"niveau"})}for(var a in this.graden){var i=this.graden[a];this.value.push({id:i.id,label:i["label"],definition:i["definition"],child_count:i["child_count"],parent_id:i["parent_id"],type:"graad"})}},readOptions:function(){for(var e in this.options=[],this.niveau_options){var t=this.niveau_options[e];this.isLeaf(t)&&this.options.push({id:t.id,label:t["label"],definition:t["definition"],collection:t["collection"],child_count:t["child_count"],parent_id:t["parent_id"],type:"niveau"})}for(var a in this.graden_options){var i=this.graden_options[a];this.options.push({id:i.id,label:i["label"],definition:i["definition"],child_count:i["child_count"],parent_id:i["parent_id"],type:"graad"})}this.loading=!1}}},U=Q,X=(a("5e9c"),Object(_["a"])(U,E,z,!1,null,null,null)),ee=X.exports,te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"thema_selector"}},[a("a",{staticClass:"button is-link is-small toon-themas-button",on:{click:e.toggleThemas}},[e._v(" "+e._s(e.show_themas_label)+" ")]),a("multiselect",{attrs:{"tag-placeholder":"Voeg nieuw thema toe",placeholder:"Selecteer thema's",label:"label","track-by":"id",options:e.options,"option-height":104,"show-labels":!1,blockKeys:["Delete"],"hide-selected":!0,multiple:!0,loading:e.loading,taggable:!1},on:{input:e.updateValue},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[a("template",{slot:"noResult"},[e._v("Thema niet gevonden")])],2),a("div",{staticClass:"thema-cards",class:[e.show_thema_cards?"show":"hide"]},[a("div",{staticClass:"modal is-active",attrs:{id:"thema_modal"}},[a("div",{staticClass:"modal-background"}),a("div",{staticClass:"modal-card",attrs:{id:"thema_modal_card"}},[a("header",{staticClass:"modal-card-head"},[a("p",{staticClass:"modal-card-title"},[e._v("Thema's")]),a("label",{staticClass:"checkbox thema-show-def-selector"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.show_tooltips,expression:"show_tooltips"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.show_tooltips)?e._i(e.show_tooltips,null)>-1:e.show_tooltips},on:{click:function(t){return e.toggleTooltips()},change:function(t){var a=e.show_tooltips,i=t.target,n=!!i.checked;if(Array.isArray(a)){var s=null,o=e._i(a,s);i.checked?o<0&&(e.show_tooltips=a.concat([s])):o>-1&&(e.show_tooltips=a.slice(0,o).concat(a.slice(o+1)))}else e.show_tooltips=n}}}),e._v(" Tooltips ")]),a("label",{staticClass:"checkbox thema-show-def-selector"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.show_definitions,expression:"show_definitions"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.show_definitions)?e._i(e.show_definitions,null)>-1:e.show_definitions},on:{click:function(t){return e.toggleBeschrijvingen()},change:function(t){var a=e.show_definitions,i=t.target,n=!!i.checked;if(Array.isArray(a)){var s=null,o=e._i(a,s);i.checked?o<0&&(e.show_definitions=a.concat([s])):o>-1&&(e.show_definitions=a.slice(0,o).concat(a.slice(o+1)))}else e.show_definitions=n}}}),e._v(" Beschrijvingen ")]),a("div",{staticClass:"thema-search"},[a("div",{staticClass:"field has-addons"},[a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.thema_search,expression:"thema_search"}],staticClass:"input",attrs:{type:"text",placeholder:"Zoek thema"},domProps:{value:e.thema_search},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.zoekThemas(t)},input:function(t){t.target.composing||(e.thema_search=t.target.value)}}})]),a("div",{staticClass:"control"},[a("a",{staticClass:"button is-info",on:{click:function(t){return e.zoekThemas(t)}}},[e._v(" Zoek ")])])])])]),a("section",{staticClass:"modal-card-body"},[a("div",{staticClass:"thema-warning-pill",class:[e.show_already_added_warning?"show":"hide"]},[e._v(" Thema werd al toegevoegd ")]),e.thema_cards.length?e._e():a("div",{staticClass:"notification is-info is-light"},[e._v(' Geen themas gevonden met de zoekterm "'+e._s(e.thema_prev_search)+'". ')]),e._l(e.thema_cards,(function(t,i){return a("div",{key:i,staticClass:"columns"},e._l(t,(function(t){return a("div",{key:t.id,staticClass:"column is-one-fifth"},[a("div",{staticClass:"tile is-ancestor"},[a("div",{staticClass:"tile is-vertical mr-2 mt-2"},[a("div",{staticClass:"card",class:[e.themaIsSelected(t)?"thema-selected":""],on:{click:function(a){return e.toggleThemaSelect(t)},mouseover:function(t){return e.changeToprowTooltip(t)}}},[a("header",{staticClass:"card-header"},[e.show_definitions||!e.show_tooltips?a("p",{staticClass:"card-header-title"},[e._v(" "+e._s(t.label)+" ")]):e._e(),e.show_tooltips?a("p",{staticClass:"card-header-title is-primary\n                        has-tooltip-arrow has-tooltip-multiline",attrs:{"data-tooltip":t.definition}},[e._v(" "+e._s(t.label)+" ")]):e._e()]),e.show_definitions?a("div",{staticClass:"card-content"},[e._v(" "+e._s(t.definition)+" ")]):e._e()])])])])})),0)}))],2),a("footer",{staticClass:"modal-card-foot"},[a("a",{staticClass:"button is-link close-themas-button",on:{click:function(t){return e.toggleThemas(t)}}},[e._v(" Sluiten ")])])])])]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.json_value,expression:"json_value"}],attrs:{name:"themas",id:"thema_json_value"},domProps:{value:e.json_value},on:{input:function(t){t.target.composing||(e.json_value=t.target.value)}}})],1)},ae=[],ie=(a("caad"),a("2532"),a("a434"),[]),ne={name:"ThemaSelector",components:{Multiselect:u.a},props:{metadata:Object},data:function(){return{value:ie,json_value:JSON.stringify(ie),options:[{id:"",label:"Themas inladen...",definition:"Themas inladen..."}],thema_cards:[],show_thema_cards:!1,show_already_added_warning:!1,show_themas_label:"Toon themas",thema_search:"",thema_prev_search:"",show_definitions:!1,show_tooltips:!0,loading:!0}},created:function(){var e=this,t="http://localhost:5000",a=document.getElementById("redactie_api_url");a&&(t=a.innerText,P.a.get(t+"/themas").then((function(t){for(var a in e.options=[],t.data){var i=t.data[a];i.label.length>1&&e.options.push({id:i.id,label:e.truncateLabel(i.label),definition:i.definition})}e.loadSavedThemas()})))},methods:{loadSavedThemas:function(){if(this.metadata.item_themas){var e=this.metadata.item_themas;for(var t in this.value=[],e){var a=e[t]["value"],i="",n="";for(var s in this.options){var o=this.options[s];if(o["id"]==a){i=o["label"],n=o["definition"];break}}i.length>0&&this.value.push({id:a,label:i,definition:n})}}this.loading=!1,this.json_value=JSON.stringify(this.value),this.$root.$emit("themas_changed",this.value)},updateValue:function(e){this.json_value=JSON.stringify(e),this.$root.$emit("themas_changed",e),this.$root.$emit("metadata_edited","true")},zoekThemas:function(e){this.thema_cards=[];var t=[];for(var a in this.options){var i=this.options[a],n=this.thema_search.toLowerCase(),s=i.label.toLowerCase(),o=i.definition.toLowerCase();(s.includes(n)||o.includes(n))&&t.push(Object.assign({},i)),5==t.length&&(this.thema_cards.push(JSON.parse(JSON.stringify(t))),t=[])}t.length>0&&this.thema_cards.push(JSON.parse(JSON.stringify(t))),this.thema_prev_search=this.thema_search,this.thema_search="",e.preventDefault()},themaIsSelected:function(e){for(var t in this.value){var a=this.value[t];if(e.id==a.id)return!0}return!1},toggleThemas:function(e){if(e.preventDefault,this.show_thema_cards=!this.show_thema_cards,!this.show_thema_cards)return this.show_themas_label="Toon themas",this.thema_cards=[],void this.$root.$emit("themas_changed",this.value);this.show_themas_label="Verberg themas",this.thema_cards=[];var t=[];for(var a in this.options)t.push(this.options[a]),5==t.length&&(this.thema_cards.push(t),t=[]);t.length>0&&this.thema_cards.push(t)},toggleThemaSelect:function(e){var t=!1;for(var a in this.value){var i=this.value[a];if(i.id==e.id){t=!0,this.value.splice(a,1),this.json_value=JSON.stringify(this.value);break}}if(!t){var n={id:e.id,label:e.label,definition:e.definition};this.value.push(n),this.json_value=JSON.stringify(this.value),this.$root.$emit("metadata_edited","true")}},changeToprowTooltip:function(e){var t=e.clientY,a=document.getElementById("thema_modal_card").getBoundingClientRect().top,i=t-a;return i<200?e.target.classList.add("has-tooltip-bottom"):e.target.classList.remove("has-tooltip-bottom"),!0},truncateLabel:function(e){var t=45,a="...";return e.length>t?e.substring(0,t)+a:e},toggleTooltips:function(){this.show_definitions=!1},toggleBeschrijvingen:function(){this.show_tooltips=!1}},filters:{truncate:function(e,t,a){return e.length>t?e.substring(0,t)+a:e}}},se=ne,oe=(a("7b46"),Object(_["a"])(se,te,ae,!1,null,null,null)),le=oe.exports,re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"vakken_selector"}},[a("a",{staticClass:"button is-link is-small vakken-suggest-button",on:{click:e.toggleSuggesties}},[e._v(" "+e._s(e.suggestie_btn_label)+" ")]),a("multiselect",{attrs:{"tag-placeholder":"Selecteer vakken",placeholder:"Selecteer vakken",label:"label","track-by":"id",options:e.options,"option-height":104,"show-labels":!1,blockKeys:["Delete"],"hide-selected":!0,multiple:!0,loading:e.vakken_loading,taggable:!1},on:{input:e.updateValue},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[a("template",{slot:"noResult"},[e._v("Vak niet gevonden")])],2),e.showInlineSuggesties()?a("div",{staticClass:"inline-suggesties"},[a("div",{staticClass:"inline-suggesties-title"},[e._v("Suggesties")]),e.loading?a("div",{staticClass:"vakken-spinner multiselect__spinner"}):e._e(),e.loading?e._e():a("div",{staticClass:"inline-suggesties-list"},e._l(e.suggesties_filtered,(function(t,i){return a("div",{key:"vak"+i},[e._l(t,(function(t){return a("div",{key:t.id,staticClass:"inline-suggestie-pill is-pulled-left",class:[e.vakIsSelected(t)?"inline-suggestie-selected":""],on:{click:function(a){return e.toggleVakSelect(t)}}},[e._v(" "+e._s(t.label)+" ")])})),a("div",{staticClass:"is-clearfix"})],2)})),0)]):e._e(),a("div",{staticClass:"vakken-suggesties",class:[e.show_vakken_suggesties?"show":"hide"]},[a("div",{staticClass:"modal is-active",attrs:{id:"vakken_modal"}},[a("div",{staticClass:"modal-background"}),a("div",{staticClass:"modal-card",attrs:{id:"vakken_modal_card"}},[a("header",{staticClass:"modal-card-head"},[a("p",{staticClass:"modal-card-title"},[e._v("Vakken")]),a("label",{staticClass:"checkbox thema-show-def-selector"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.show_tooltips,expression:"show_tooltips"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.show_tooltips)?e._i(e.show_tooltips,null)>-1:e.show_tooltips},on:{click:function(t){return e.toggleTooltips()},change:function(t){var a=e.show_tooltips,i=t.target,n=!!i.checked;if(Array.isArray(a)){var s=null,o=e._i(a,s);i.checked?o<0&&(e.show_tooltips=a.concat([s])):o>-1&&(e.show_tooltips=a.slice(0,o).concat(a.slice(o+1)))}else e.show_tooltips=n}}}),e._v(" Tooltips ")]),a("label",{staticClass:"checkbox thema-show-def-selector"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.show_definitions,expression:"show_definitions"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.show_definitions)?e._i(e.show_definitions,null)>-1:e.show_definitions},on:{click:function(t){return e.toggleBeschrijvingen()},change:function(t){var a=e.show_definitions,i=t.target,n=!!i.checked;if(Array.isArray(a)){var s=null,o=e._i(a,s);i.checked?o<0&&(e.show_definitions=a.concat([s])):o>-1&&(e.show_definitions=a.slice(0,o).concat(a.slice(o+1)))}else e.show_definitions=n}}}),e._v(" Beschrijvingen ")]),a("div",{staticClass:"vak-search"},[a("div",{staticClass:"field has-addons"},[a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.vakken_search,expression:"vakken_search"}],staticClass:"input",attrs:{type:"text",placeholder:"Zoek vak"},domProps:{value:e.vakken_search},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.zoekVakken(t)},input:function(t){t.target.composing||(e.vakken_search=t.target.value)}}})]),a("div",{staticClass:"control"},[a("a",{staticClass:"button is-info",on:{click:function(t){return e.zoekVakken(t)}}},[e._v(" Zoek ")])])])])]),a("section",{staticClass:"modal-card-body"},[e.suggesties_filtered.length?a("h3",{staticClass:"subtitle vakken-title"},[e._v(" Suggesties ")]):e._e(),e._l(e.suggesties_filtered,(function(t,i){return a("div",{key:"vak"+i,staticClass:"columns"},e._l(t,(function(t){return a("div",{key:t.id,staticClass:"column is-one-fifth"},[a("div",{staticClass:"tile is-ancestor"},[a("div",{staticClass:"tile is-vertical mr-2 mt-2"},[a("div",{staticClass:"card",class:[e.vakIsSelected(t)?"vak-selected":""],on:{click:function(a){return e.toggleVakSelect(t)},mouseover:function(t){return e.changeToprowTooltip(t)}}},[a("header",{staticClass:"card-header"},[e.show_definitions||!e.show_tooltips?a("p",{staticClass:"card-header-title"},[e._v(" "+e._s(t.label)+" ")]):e._e(),e.show_tooltips?a("p",{staticClass:"card-header-title is-primary has-tooltip-arrow has-tooltip-multiline",attrs:{"data-tooltip":t.definition}},[e._v(" "+e._s(t.label)+" ")]):e._e()]),e.show_definitions?a("div",{staticClass:"card-content"},[e._v(" "+e._s(t.definition)+" ")]):e._e()])])])])})),0)})),e.suggesties_filtered.length?a("h3",{staticClass:"subtitle vakken-title"},[e._v("Overige vakken")]):e._e(),e.hogerOfVolwassenOnderwijs()?a("div",[a("div",{staticClass:"notification is-info is-light"},[e._v(" Aan de opgegeven onderwijsniveaus zijn geen vakken gelinkt, wil je toch een vak toevoegen op dit item, selecteer dan kleuter, lager of secundair onderwijs. ")])]):e._e(),!e.overige_vakken.length||e.suggesties_filtered.length||e.hogerOfVolwassenOnderwijs()?e._e():a("h3",{staticClass:"subtitle vakken-title"},[e._v(" Geen suggesties beschikbaar, volgende vakken zijn mogelijk. ")]),e.loading?a("div",{staticClass:"vakken-spinner-modal multiselect__spinner"}):e._e(),e.hogerOfVolwassenOnderwijs()?e._e():a("div",e._l(e.overige_filtered,(function(t,i){return a("div",{key:"sug"+i,staticClass:"columns"},e._l(t,(function(t){return a("div",{key:t.id,staticClass:"column is-one-fifth"},[a("div",{staticClass:"tile is-ancestor"},[a("div",{staticClass:"tile is-vertical mr-2 mt-2"},[a("div",{staticClass:"card",class:[e.vakIsSelected(t)?"vak-selected":""],on:{click:function(a){return e.toggleVakSelect(t)},mouseover:function(t){return e.changeToprowTooltip(t)}}},[a("header",{staticClass:"card-header"},[e.show_definitions||!e.show_tooltips?a("p",{staticClass:"card-header-title"},[e._v(" "+e._s(t.label)+" ")]):e._e(),e.show_tooltips?a("p",{staticClass:"card-header-title is-primary has-tooltip-arrow has-tooltip-multiline",attrs:{"data-tooltip":t.definition}},[e._v(" "+e._s(t.label)+" ")]):e._e()]),e.show_definitions?a("div",{staticClass:"card-content"},[e._v(" "+e._s(t.definition)+" ")]):e._e()])])])])})),0)})),0)],2),a("footer",{staticClass:"modal-card-foot"},[a("a",{staticClass:"button is-link close-themas-button",on:{click:function(t){return e.toggleSuggesties(t)}}},[e._v(" Sluiten ")])])])])]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.json_value,expression:"json_value"}],attrs:{name:"vakken",id:"vakken_json_value"},domProps:{value:e.json_value},on:{input:function(t){t.target.composing||(e.json_value=t.target.value)}}})],1)},de=[],ce=[],ue={name:"VakkenSelector",components:{Multiselect:u.a},props:{metadata:Object},data:function(){return{value:ce,json_value:JSON.stringify(ce),options:[],show_vakken_suggesties:!1,suggestie_btn_label:"Toon suggesties voor vakken",vakken_suggesties:[],suggesties_filtered:[],overige_vakken:[],overige_filtered:[],niveaus:[],graden:[],themas:[],vakken_search:"",vakken_prev_search:"",show_definitions:!1,show_tooltips:!0,loading:!1,vakken_loading:!0}},mounted:function(){var e=this;this.$root.$on("themas_changed",(function(t){e.themas=t,e.updateSuggestions()})),this.$root.$on("onderwijs_changed",(function(t){e.niveaus=t["niveaus"],e.graden=t["graden"],e.updateSuggestions()})),this.$root.$on("niveaus_changed",(function(t){e.niveaus=t,e.updateSuggestions()})),this.$root.$on("graden_changed",(function(t){e.graden=t,e.updateSuggestions()}))},created:function(){var e=this,t="http://localhost:5000",a=document.getElementById("redactie_api_url");a&&(t=a.innerText,this.loading=!0,P.a.get(t+"/vakken").then((function(t){for(var a in e.options=[],t.data){var i=t.data[a];e.options.push({id:i.id,label:e.truncateLabel(i.label),definition:i.definition,related_id:i.related_id})}e.loading=!1,e.vakken_loading=!1,e.loadSavedVakken()})))},methods:{loadSavedVakken:function(){if(this.metadata.item_vakken){var e=this.metadata.item_vakken;for(var t in this.value=[],e){var a=e[t]["value"],i="",n="",s="";for(var o in this.options){var l=this.options[o];if(l["id"]==a){i=l["label"],n=l["definition"],s=l["related_id"];break}}i.length>0&&this.value.push({id:a,label:i,definition:n,related_id:s})}}this.json_value=JSON.stringify(this.value),this.$root.$emit("vakken_changed",this.value)},updateValue:function(e){this.json_value=JSON.stringify(e),this.$root.$emit("vakken_changed",e),this.$root.$emit("metadata_edited","true")},vakIsSelected:function(e){for(var t in this.value){var a=this.value[t];if(e.id==a.id)return!0}return!1},updateOverigeVakken:function(e,t){var a=this,i={graden:this.graden,niveaus:this.niveaus};this.loading=!0,P.a.post(e+"/vakken_related",i).then((function(e){a.overige_vakken=[];var i=[];for(var n in e.data){var s=e.data[n];void 0==t[s.id]&&(s.label=a.truncateLabel(s.label),i.push(Object.assign({},s)),i.length>=5&&(a.overige_vakken.push(i),i=[]))}i.length>0&&a.overige_vakken.push(i),a.loading=!1,a.overige_filtered=JSON.parse(JSON.stringify(a.overige_vakken))}))},updateSuggestions:function(){var e=this,t="http://localhost:5000",a=document.getElementById("redactie_api_url");if(a){t=a.innerText;var i={graden:this.graden,themas:this.themas};if(0==i["graden"].length||0==i["themas"].length||this.hogerOfVolwassenOnderwijs())return this.vakken_suggesties=[],this.suggesties_filtered=[],void(this.overige_vakken=[]);this.loading=!0,P.a.post(t+"/vakken_suggest",i).then((function(a){e.vakken_suggesties=[];var i=[],n={};for(var s in a.data){var o=a.data[s];o["id"]&&(o.label=e.truncateLabel(o.label),n[o.id]=o,i.push(Object.assign({},o)),i.length>=5&&(e.vakken_suggesties.push(i),i=[]))}i.length>0&&e.vakken_suggesties.push(i),e.loading=!1,e.suggesties_filtered=JSON.parse(JSON.stringify(e.vakken_suggesties)),e.updateOverigeVakken(t,n)}))}},toggleSuggesties:function(e){e.preventDefault,this.show_vakken_suggesties=!this.show_vakken_suggesties,this.show_vakken_suggesties?this.suggestie_btn_label="Verberg suggesties voor vakken":(this.suggestie_btn_label="Toon suggesties voor vakken",this.$root.$emit("vakken_changed",this.value)),this.updateSuggestions()},toggleVakSelect:function(e){var t=!1;for(var a in this.value){var i=this.value[a];if(i.id==e.id){t=!0,this.value.splice(a,1);break}}if(!t){var n={id:e.id,label:e.label,definition:e.definition,related_id:e.related_id};this.value.push(n)}this.json_value=JSON.stringify(this.value),this.$root.$emit("vakken_changed",this.value),this.$root.$emit("metadata_edited","true")},zoek:function(e,t){var a=[],i=[];for(var n in t){var s=t[n];for(var o in s){var l=s[o],r=e.toLowerCase(),d=l.label.toLowerCase(),c=l.definition.toLowerCase();(d.includes(r)||c.includes(r))&&i.push(Object.assign({},l)),i.length>=5&&(a.push(JSON.parse(JSON.stringify(i))),i=[])}}return i.length>0&&a.push(JSON.parse(JSON.stringify(i))),a},zoekVakken:function(e){this.suggesties_filtered=this.zoek(this.vakken_search,this.vakken_suggesties),this.overige_filtered=this.zoek(this.vakken_search,this.overige_vakken),this.vakken_prev_search=this.vakken_search,this.vakken_search="",e.preventDefault()},changeToprowTooltip:function(e){var t=e.clientY,a=document.getElementById("vakken_modal_card").getBoundingClientRect().top,i=t-a;return i<200?e.target.classList.add("has-tooltip-bottom"):e.target.classList.remove("has-tooltip-bottom"),!0},truncateLabel:function(e){var t=45,a="...";return e&&e.length>t?e.substring(0,t)+a:e},hogerOfVolwassenOnderwijs:function(){for(var e in this.niveaus){var t=this.niveaus[e];if(t.id.includes("kleuter"))return!1;if(t.id.includes("lager"))return!1;if(t.id.includes("secundair"))return!1}return!0},toggleTooltips:function(){this.show_definitions=!1},toggleBeschrijvingen:function(){this.show_tooltips=!1},showInlineSuggesties:function(){return!!this.suggesties_filtered.length}},filters:{truncate:function(e,t,a){return e.length>t?e.substring(0,t)+a:e}}},ve=ue,he=(a("569e"),Object(_["a"])(ve,re,de,!1,null,null,null)),me=he.exports,_e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.legacy_vakken.length>0?a("div",{attrs:{id:"legacy_vakken"}},[a("div",{staticClass:"field is-horizontal"},[e._m(0),a("div",{staticClass:"field-body"},[e.legacy_vakken.length&&!e.show_legacyvakken?a("div",[a("a",{on:{click:e.toggleLegacyvakken}},[e._v("Bekijk de legacy vakken")])]):e._e(),e.legacy_vakken.length&&e.show_legacyvakken?a("div",[a("a",{on:{click:e.toggleLegacyvakken}},[e._v("Verberg de legacy vakken")])]):e._e()])]),e.show_legacyvakken?a("div",{staticClass:"field is-horizontal"},[e._m(1),a("div",{staticClass:"field-body"},[a("div",{staticClass:"legacy-vakken-list"},[a("div",{staticClass:"legacy-title"}),e._l(e.legacy_vakken,(function(t,i){return a("div",{key:i,staticClass:"legacy-vak-pill is-pulled-left"},[e._v(" "+e._s(t.value)+" ")])})),a("div",{staticClass:"is-clearfix"})],2)])]):e._e()]):e._e()},ge=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"})])}],fe={name:"LegacyVakken",components:{},props:{metadata:Object},data:function(){return{legacy_vakken:[],vakken_suggesties:[],overige_vakken:[],graden:[],themas:[],vakken_search:"",vakken_prev_search:"",show_definitions:!1,show_legacyvakken:!1}},created:function(){this.metadata.item_vakken_legacy&&(this.legacy_vakken=this.metadata.item_vakken_legacy)},methods:{toggleLegacyvakken:function(){this.show_legacyvakken=!this.show_legacyvakken}},filters:{truncate:function(e,t,a){return e.length>t?e.substring(0,t)+a:e}}},pe=fe,ke=(a("8ec5"),Object(_["a"])(pe,_e,ge,!1,null,null,null)),be=ke.exports,we=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"trefwoorden_selector"}},[a("multiselect",{attrs:{"tag-placeholder":"Maak nieuw trefwoord aan","select-label":"Selecteer trefwoord","deselect-label":"Verwijder trefwoord","show-labels":!1,blockKeys:["Delete"],"hide-selected":!0,loading:e.loading,placeholder:"",label:"name","track-by":"code",options:e.options,multiple:!0,taggable:!0},on:{"search-change":e.elasticSearch,tag:e.addKeywordDialog,input:e.updateValue},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[a("span",{attrs:{slot:"noOptions"},slot:"noOptions"},[e._v("Zoek trefwoord")]),a("span",{attrs:{slot:"noResult"},slot:"noResult"},[e._v("Trefwoord niet gevonden")])]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.json_value,expression:"json_value"}],attrs:{name:"trefwoorden",id:"trefwoorden_json_value"},domProps:{value:e.json_value},on:{input:function(t){t.target.composing||(e.json_value=t.target.value)}}}),a("div",{staticClass:"create-trefwoord",class:[e.show_keyword_dialog?"show":"hide"]},[a("div",{staticClass:"modal is-active",attrs:{id:"keyword_modal"}},[a("div",{staticClass:"modal-background"}),a("div",{staticClass:"modal-card",attrs:{id:"keyword_modal_card"}},[e._m(0),a("section",{staticClass:"modal-card-body"},[a("p",[e._v(" Ben je zeker dat je een volledig nieuw trefwoord wil toevoegen? ")]),a("br"),a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label is-normal"},[e._v(" Trefwoord ")]),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.new_keyword,expression:"new_keyword"}],staticClass:"input keyword-input",attrs:{id:"keyword_input",type:"text"},domProps:{value:e.new_keyword},on:{input:function(t){t.target.composing||(e.new_keyword=t.target.value)}}})])])])])]),a("footer",{staticClass:"modal-card-foot buttons-right"},[a("a",{staticClass:"button is-link is-light",on:{click:function(t){return e.cancelKeywordDialog()}}},[e._v(" Annuleren ")]),a("a",{staticClass:"button is-link",on:{click:function(t){return e.addKeyword(e.new_keyword)}}},[e._v(" Toevoegen ")])])])])]),e.cp_keywords.length?a("div",[a("div",{staticClass:"cp_keywords_button"},[a("a",{on:{click:e.toggleKeywordCollapse}},[e._v(" "+e._s(e.cp_keyword_label)+" ")]),a("div",{staticClass:"warning-pill",class:[e.show_already_added_warning?"show":"hide"]},[e._v(" Trefwoord werd al toegevoegd. ")])]),a("div",{staticClass:"cp_keywords",class:[e.show_cp_keywords?"show":"hide"]},[e.cp_keywords.length?e._e():a("div",{staticClass:"notification is-info is-light"},[e._v(" Voor dit item zijn er geen contentpartner trefwoorden. ")]),e._l(e.cp_keywords,(function(t){return a("div",{key:t.code,staticClass:"keyword-pill is-pulled-left"},[e._v(" "+e._s(t.name)+" ")])})),a("div",{staticClass:"is-clearfix"})],2)]):e._e()],1)},ye=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",{staticClass:"modal-card-head"},[a("p",{staticClass:"modal-card-title"},[e._v("Nieuw trefwoord")])])}],je=[],Ce={name:"TrefwoordenSelector",components:{Multiselect:u.a},props:{metadata:Object},data:function(){return{value:je,json_value:JSON.stringify(je),options:[],loading:!1,redactie_api_url:"",cp_keyword_label:"Bekijk de trefwoorden van de contentpartner",cp_keywords:[],show_cp_keywords:!1,show_already_added_warning:!1,new_keyword:"",show_keyword_dialog:!1}},created:function(){if(this.metadata.item_keywords){var e=this.metadata.item_keywords;for(var t in this.value=[],e){var a=e[t];this.value.push({name:a["value"],code:a["value"]})}this.json_value=JSON.stringify(this.value)}if(this.metadata.item_keywords_cp){var i=this.metadata.item_keywords_cp;for(var n in this.cp_keywords=[],i){var s=i[n];this.cp_keywords.push({name:s["value"],code:s["value"]})}}var o=document.getElementById("redactie_api_url");o&&(this.redactie_api_url=o.innerText)},methods:{updateValue:function(e){this.json_value=JSON.stringify(e),this.$root.$emit("metadata_edited","true")},toggleKeywordCollapse:function(){this.show_cp_keywords=!this.show_cp_keywords,this.show_cp_keywords?this.cp_keyword_label="Verberg de trefwoorden van de contentpartner":this.cp_keyword_label="Bekijk de trefwoorden van de contentpartner"},addCpKeyword:function(e){var t=this,a=!1;for(var i in this.value){var n=this.value[i];if(n.code==e.code){a=!0;break}}if(a)this.show_already_added_warning=!0,setTimeout((function(){t.show_already_added_warning=!1}),3e3);else{var s={name:e.name,code:e.code};this.options.push(s),this.value.push(s),this.json_value=JSON.stringify(this.value)}},addKeyword:function(e){this.show_keyword_dialog=!1;var t={name:e,code:e.substring(0,2)+Math.floor(1e7*Math.random())};this.options.push(t),this.value.push(t),this.json_value=JSON.stringify(this.value),this.$root.$emit("metadata_edited","true")},cancelKeywordDialog:function(){this.show_keyword_dialog=!1},addKeywordDialog:function(e){this.new_keyword=e,this.show_keyword_dialog=!0,setTimeout((function(){document.getElementById("keyword_input").focus()}),100)},elasticSearch:function(e){var t=this;e.length<3?this.options=[]:(this.loading=!0,P.a.post(this.redactie_api_url+"/keyword_search",{qry:e}).then((function(e){for(var a in t.options=[],e.data){var i=e.data[a],n={name:i["text"],code:i["_id"]};t.options.push(n)}t.loading=!1})).catch((function(e){console.log("keywoard search error=",e.message),t.loading=!1})))}}},Se=Ce,Oe=(a("ea01"),Object(_["a"])(Se,we,ye,!1,null,null,null)),$e=Oe.exports,xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"minimize-icon-wrapper"},[a("span",{class:[e.minimized?"icon-folded":"icon-unfolded"]},[a("ion-icon",{staticClass:"md hydrated",attrs:{name:"chevron-down-circle-outline",role:"img","aria-label":"chevron down circle outline"}})],1),a("span",{class:[e.minimized?"icon-unfolded":"icon-folded"]},[a("ion-icon",{staticClass:"md hydrated",attrs:{name:"chevron-forward-circle-outline",role:"img","aria-label":"chevron forward circle outline"}})],1)])},Te=[],Ne={name:"CollapseIcon",components:{},props:{minimized:Boolean},methods:{updateValue:function(e){this.json_value=JSON.stringify(e)}}},Ve=Ne,Ee=(a("c6f0"),Object(_["a"])(Ve,xe,Te,!1,null,null,null)),ze=Ee.exports,Je={name:"LomSection",components:{TypeSelector:f,EindgebruikerSelector:C,TalenSelector:V,OnderwijsSelector:ee,ThemaSelector:le,VakkenSelector:me,LegacyVakken:be,TrefwoordenSelector:$e,CollapseIcon:ze},props:{metadata:Object},data:function(){return{isMinimized:!1,onderwijsCombo:!0}},created:function(){},methods:{toggleCollapse:function(){this.isMinimized=!this.isMinimized}}},Ae=Je,Be=(a("080a"),Object(_["a"])(Ae,o,l,!1,null,null,null)),Pe=Be.exports,Ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"columns pub-status-section"},[a("div",{staticClass:"column"},[a("h2",{staticClass:"title"},[e._v("Publicatiestatus")]),a("hr"),a("label",{staticClass:"checkbox"},[e.loading?e._e():a("input",{directives:[{name:"model",rawName:"v-model",value:e.publish_item,expression:"publish_item"}],attrs:{type:"checkbox",name:"publicatiestatus_checked",id:"publicatiestatus_checked"},domProps:{checked:Array.isArray(e.publish_item)?e._i(e.publish_item,null)>-1:e.publish_item},on:{change:[function(t){var a=e.publish_item,i=t.target,n=!!i.checked;if(Array.isArray(a)){var s=null,o=e._i(a,s);i.checked?o<0&&(e.publish_item=a.concat([s])):o>-1&&(e.publish_item=a.slice(0,o).concat(a.slice(o+1)))}else e.publish_item=n},e.statusChanged]}}),e.loading?a("div",{staticClass:"checkbox-spinner multiselect__spinner"}):e._e(),e._v(" Dit item mag gepubliceerd worden op "),a("a",{attrs:{target:"blank",href:"https://onderwijs.hetarchief.be"}},[e._v("Het Archief voor Onderwijs.")])])]),a("br")])},Le=[],Me=(a("bf19"),{name:"PublicatieStatus",props:{metadata:Object},data:function(){return{publish_item:!1,loading:!0}},methods:{statusChanged:function(){this.$root.$emit("metadata_edited","true")}},created:function(){var e=this;if("ajax"==this.metadata.publish_item){var t="http://localhost:5000",a=document.getElementById("redactie_api_url");if(!a)return;t=a.innerText;var i={pid:this.metadata.pid,department:this.metadata.department};P.a.get(t+"/publicatie_status",{params:i}).then((function(t){e.publish_item=t.data.publish_item,e.loading=!1})).catch((function(t){console.log(t.toJSON()),e.loading=!1}))}else this.publish_item=this.metadata.publish_item,this.loading=!1}}),Ke=Me,De=(a("bcac"),Object(_["a"])(Ke,Ie,Le,!1,null,null,null)),Re=De.exports,Ge={name:"App",data:function(){return{metadata:{}}},components:{LomSection:Pe,PublicatieStatus:Re},mounted:function(){this.$root.$on("metadata_edited",(function(e){var t=document.getElementById("metadata_form_edited");t&&(t.value=e)}))},created:function(){var e=document.getElementById("redactie_metadata");e&&(this.metadata=JSON.parse(e.value))}},Ze=Ge,He=(a("034f"),Object(_["a"])(Ze,n,s,!1,null,null,null)),We=He.exports;i["a"].config.productionTip=!1,i["a"].config.ignoredElements=[/^ion-/],new i["a"]({render:function(e){return e(We)}}).$mount("#app")},"5e9c":function(e,t,a){"use strict";a("71a2")},6586:function(e,t,a){},"68f1":function(e,t,a){},"71a2":function(e,t,a){},"71d9":function(e,t,a){},"7b46":function(e,t,a){"use strict";a("68f1")},"85ec":function(e,t,a){},"85ef":function(e,t,a){},"8ec5":function(e,t,a){"use strict";a("29a9")},"90d9":function(e,t,a){},"92cc":function(e,t,a){"use strict";a("b2c9")},"97c9":function(e,t,a){},a304:function(e,t,a){"use strict";a("71d9")},a612:function(e,t,a){},a7e8:function(e,t,a){},b2c9:function(e,t,a){},b486:function(e,t,a){"use strict";a("97c9")},bcac:function(e,t,a){"use strict";a("a7e8")},c6f0:function(e,t,a){"use strict";a("6586")},e2fe:function(e,t,a){},ea01:function(e,t,a){"use strict";a("90d9")},f329:function(e,t,a){"use strict";a("14dd")}});
//# sourceMappingURL=app.9dc69dc8.js.map