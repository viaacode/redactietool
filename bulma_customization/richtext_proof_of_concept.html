<html>

  <head>
    <style>
        .wrapper-later-with-bulma{
          width: 500px;
          margin-left: auto;
          margin-right: auto;
          height: 15em;
        }
    </style>


    <!-- Include stylesheet -->
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">


    <!-- Include the Quill library -->
    <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
  </head>
  <body>


    
    <!-- Create the editor container -->
    <div class="wrapper-later-with-bulma">
      <h2>Het archief voor Onderwijs beschrijving</h2>

      <div id="redactietool-richtext-editor">
        <h1>Proof of concept richtext editor</h1>

        <p> Samen met Miel bekeken of de output wel clean is. Probleem is wel dat we de paste event ook moeten opvangen en ervoor zorgen
        dat ze enkel plain text kunnen pasten en niet iets met markdown in uit een word document ofzo...</p>

        <p>Hello World!</p>
        <p>Some initial <strong>bold</strong> text</p>

        <p>
        Goede aan quill editor is dat de output nog redelijk clean blijft zolang je enkel de gegeven buttons gebruikt.
        Nadeel is dus wel dat we zowel paste event moeten opvangen als ook extra html parsing in backend moeten steken om zeker te zijn
        dat er maar enkel 'clean' html in de metadata field naar mediahaven kan gaan.
        </p>

        <p>Documentatie hier: https://quilljs.com/docs/quickstart/ </p>

      </div>

      <br/>
      <textarea id="onderwijs_beschrijving" rows="5" cols="70">
      </textarea>
    </div>

<script>
  var quill = new Quill('#redactietool-richtext-editor', {
    modules: {
      toolbar: [
        [{ header: [1, 2, false] }],
        ['bold', 'italic', 'underline'],
        //['image', 'code-block']
      ]
    },
    placeholder: 'Compose an epic...',
    theme: 'snow'  // or 'bubble'
  });

  
  quill.on('editor-change', function(eventName, ...args) {
    //if (eventName === 'text-change') {
    //  // args[0] will be delta
    //} else if (eventName === 'selection-change') {
    //  // args[0] will be old range
    //}
    //var plaintext = quill.getText();
    //var contents = quill.getContents();
    //console.log("TEXT=", plaintext);
    //console.log("CONTENT=", contents);

    var editor_div = document.getElementById("redactietool-richtext-editor");
    if(editor_div){
      var html_content = editor_div.firstChild.innerHTML
      console.log("\neditor content:\n", html_content);
      var editor_form_target = document.getElementById("onderwijs_beschrijving");
      if(editor_form_target){
        editor_form_target.value = html_content;
      }
    }
  });
</script>

  </body>
</html>

